{"version":3,"file":"alpine.js","sources":["../src/scheduler.js","../node_modules/@vue/reactivity/dist/reactivity.esm-browser.prod.js","../src/utils/directives.js","../src/utils/root.js","../src/utils/mergeProxies.js","../src/utils/closest.js","../src/alpine.js","../src/utils/classes.js","../src/directives/x-transition.js","../src/utils/evaluate.js","../src/scope.js","../src/directives/x-provide.js","../src/utils/bind.js","../src/utils/on.js","../src/directives/x-model.js","../src/directives/x-show.js","../src/directives/x-element.js","../src/directives/x-destroy.js","../src/directives/x-spread.js","../src/directives/x-scope.js","../src/directives/x-cloak.js","../src/directives/x-watch.js","../src/directives/x-init.js","../src/directives/x-text.js","../src/directives/x-bind.js","../src/directives/x-data.js","../src/directives/x-for.js","../src/directives/x-ref.js","../src/directives/x-if.js","../src/directives/x-on.js","../src/magics/$nextTick.js","../src/magics/$dispatch.js","../src/magics/$watch.js","../src/magics/$store.js","../src/magics/$root.js","../src/magics/$refs.js","../src/magics/$el.js","../src/index.js"],"sourcesContent":["\nexport default {\n    tasks: [],\n    lowPriorityTasks: [],\n    nextTicks: [],\n    shouldFlush: false,\n    ignore: false,\n\n    ignore(callback) {\n        this.ignore = true\n        callback()\n        this.ignore = false\n    },\n\n    task(callback) {\n        if (this.ignore === true) return\n\n        this.tasks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    nextTick(callback) {\n        this.nextTicks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    holdNextTicks() {\n        this.holdNextTicksOver = true\n    },\n\n    releaseNextTicks() {\n        while (this.nextTicks.length > 0) {\n            this.nextTicks.shift()()\n        }\n\n        this.holdNextTicksOver = false\n    },\n\n    shouldFlushAtEndOfRequest() {\n        this.shouldFlush = true\n\n        queueMicrotask(() => {\n            if (this.shouldFlush) this.flush()\n\n            this.shouldFlush = false\n        })\n    },\n\n    flushImmediately() {\n        while (this.tasks.length > 0) this.tasks.shift()()\n\n        if (! this.holdNextTicksOver) while (this.nextTicks.length > 0) this.nextTicks.shift()()\n\n    },\n\n    flush() {\n        setTimeout(() => {\n            let DEADLINE = performance.now() + 80\n\n            while (this.tasks.length > 0) {\n                //  || performance.now() >= DEADLINE\n                if (navigator?.scheduling?.isInputPending()) {\n                    // Yield if we have to handle an input event, or we're out of time.\n                    setTimeout(this.flush.bind(this))\n                    return;\n                }\n\n                this.tasks.shift()()\n            }\n\n            if (! this.holdNextTicksOver) {\n                setTimeout(() => {\n                    // Flush anything added by $nextTick\n                    while (this.nextTicks.length > 0) {\n                        this.nextTicks.shift()()\n                    }\n                })\n            }\n        })\n    }\n}\n","const t={},e=()=>{},n=Object.assign,r=Object.prototype.hasOwnProperty,s=(t,e)=>r.call(t,e),i=Array.isArray,o=t=>\"[object Map]\"===f(t),c=t=>\"function\"==typeof t,u=t=>\"symbol\"==typeof t,a=t=>null!==t&&\"object\"==typeof t,l=Object.prototype.toString,f=t=>l.call(t),h=t=>\"string\"==typeof t&&\"NaN\"!==t&&\"-\"!==t[0]&&\"\"+parseInt(t,10)===t,_=(t,e)=>t!==e&&(t==t||e==e),v=new WeakMap,d=[];let p;const g=Symbol(\"\"),y=Symbol(\"\");function w(e,n=t){(function(t){return t&&!0===t._isEffect})(e)&&(e=e.raw);const r=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!d.includes(n)){S(n);try{return j(),d.push(n),p=n,t()}finally{d.pop(),O(),p=d[d.length-1]}}};return n.id=b++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(e,n);return n.lazy||r(),r}function R(t){t.active&&(S(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let b=0;function S(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let k=!0;const E=[];function m(){E.push(k),k=!1}function j(){E.push(k),k=!0}function O(){const t=E.pop();k=void 0===t||t}function P(t,e,n){if(!k||void 0===p)return;let r=v.get(t);r||v.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(p)||(s.add(p),p.deps.push(s))}function x(t,e,n,r,s,c){const u=v.get(t);if(!u)return;const a=new Set,l=t=>{t&&t.forEach(t=>{(t!==p||t.allowRecurse)&&a.add(t)})};if(\"clear\"===e)u.forEach(l);else if(\"length\"===n&&i(t))u.forEach((t,e)=>{(\"length\"===e||e>=r)&&l(t)});else switch(void 0!==n&&l(u.get(n)),e){case\"add\":i(t)?h(n)&&l(u.get(\"length\")):(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"delete\":i(t)||(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"set\":o(t)&&l(u.get(g))}a.forEach(t=>{t.options.scheduler?t.options.scheduler(t):t()})}const z=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(u)),M=I(),A=I(!1,!0),W=I(!0),N=I(!0,!0),V={};function I(t=!1,e=!1){return function(n,r,o){if(\"__v_isReactive\"===r)return!t;if(\"__v_isReadonly\"===r)return t;if(\"__v_raw\"===r&&o===(t?lt:at).get(n))return n;const c=i(n);if(!t&&c&&s(V,r))return Reflect.get(V,r,o);const l=Reflect.get(n,r,o);if(u(r)?z.has(r):\"__proto__\"===r||\"__v_isRef\"===r)return l;if(t||P(n,0,r),e)return l;if(kt(l)){return!c||!h(r)?l.value:l}return a(l)?t?vt(l):ht(l):l}}[\"includes\",\"indexOf\",\"lastIndexOf\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){const n=Rt(this);for(let e=0,s=this.length;e<s;e++)P(n,0,e+\"\");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Rt)):r}}),[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){m();const n=e.apply(this,t);return O(),n}});function K(t=!1){return function(e,n,r,o){const c=e[n];if(!t&&(r=Rt(r),!i(e)&&kt(c)&&!kt(r)))return c.value=r,!0;const u=i(e)&&h(n)?Number(n)<e.length:s(e,n),a=Reflect.set(e,n,r,o);return e===Rt(o)&&(u?_(r,c)&&x(e,\"set\",n,r):x(e,\"add\",n,r)),a}}const B={get:M,set:K(),deleteProperty:function(t,e){const n=s(t,e),r=Reflect.deleteProperty(t,e);return r&&n&&x(t,\"delete\",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return u(e)&&z.has(e)||P(t,0,e),n},ownKeys:function(t){return P(t,0,i(t)?\"length\":g),Reflect.ownKeys(t)}},q={get:W,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},C=n({},B,{get:A,set:K(!0)}),D=n({},q,{get:N}),F=t=>a(t)?ht(t):t,G=t=>a(t)?vt(t):t,H=t=>t,J=t=>Reflect.getPrototypeOf(t);function L(t,e,n=!1,r=!1){const s=Rt(t=t.__v_raw),i=Rt(e);e!==i&&!n&&P(s,0,e),!n&&P(s,0,i);const{has:o}=J(s),c=n?G:r?H:F;return o.call(s,e)?c(t.get(e)):o.call(s,i)?c(t.get(i)):void 0}function Q(t,e=!1){const n=this.__v_raw,r=Rt(n),s=Rt(t);return t!==s&&!e&&P(r,0,t),!e&&P(r,0,s),t===s?n.has(t):n.has(t)||n.has(s)}function T(t,e=!1){return t=t.__v_raw,!e&&P(Rt(t),0,g),Reflect.get(t,\"size\",t)}function U(t){t=Rt(t);const e=Rt(this),n=J(e).has.call(e,t);return e.add(t),n||x(e,\"add\",t,t),this}function X(t,e){e=Rt(e);const n=Rt(this),{has:r,get:s}=J(n);let i=r.call(n,t);i||(t=Rt(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?_(e,o)&&x(n,\"set\",t,e):x(n,\"add\",t,e),this}function Y(t){const e=Rt(this),{has:n,get:r}=J(e);let s=n.call(e,t);s||(t=Rt(t),s=n.call(e,t));r&&r.call(e,t);const i=e.delete(t);return s&&x(e,\"delete\",t,void 0),i}function Z(){const t=Rt(this),e=0!==t.size,n=t.clear();return e&&x(t,\"clear\",void 0,void 0),n}function $(t,e){return function(n,r){const s=this,i=s.__v_raw,o=Rt(i),c=t?G:e?H:F;return!t&&P(o,0,g),i.forEach((t,e)=>n.call(r,c(t),c(e),s))}}function tt(t,e,n){return function(...r){const s=this.__v_raw,i=Rt(s),c=o(i),u=\"entries\"===t||t===Symbol.iterator&&c,a=\"keys\"===t&&c,l=s[t](...r),f=e?G:n?H:F;return!e&&P(i,0,a?y:g),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:u?[f(t[0]),f(t[1])]:f(t),done:e}},[Symbol.iterator](){return this}}}}function et(t){return function(...e){return\"delete\"!==t&&this}}const nt={get(t){return L(this,t)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!1)},rt={get(t){return L(this,t,!1,!0)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!0)},st={get(t){return L(this,t,!0)},get size(){return T(this,!0)},has(t){return Q.call(this,t,!0)},add:et(\"add\"),set:et(\"set\"),delete:et(\"delete\"),clear:et(\"clear\"),forEach:$(!0,!1)};function it(t,e){const n=e?rt:t?st:nt;return(e,r,i)=>\"__v_isReactive\"===r?!t:\"__v_isReadonly\"===r?t:\"__v_raw\"===r?e:Reflect.get(s(n,r)&&r in e?n:e,r,i)}[\"keys\",\"values\",\"entries\",Symbol.iterator].forEach(t=>{nt[t]=tt(t,!1,!1),st[t]=tt(t,!0,!1),rt[t]=tt(t,!1,!0)});const ot={get:it(!1,!1)},ct={get:it(!1,!0)},ut={get:it(!0,!1)},at=new WeakMap,lt=new WeakMap;function ft(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case\"Object\":case\"Array\":return 1;case\"Map\":case\"Set\":case\"WeakMap\":case\"WeakSet\":return 2;default:return 0}}((t=>f(t).slice(8,-1))(t))}function ht(t){return t&&t.__v_isReadonly?t:pt(t,!1,B,ot)}function _t(t){return pt(t,!1,C,ct)}function vt(t){return pt(t,!0,q,ut)}function dt(t){return pt(t,!0,D,ut)}function pt(t,e,n,r){if(!a(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=e?lt:at,i=s.get(t);if(i)return i;const o=ft(t);if(0===o)return t;const c=new Proxy(t,2===o?r:n);return s.set(t,c),c}function gt(t){return yt(t)?gt(t.__v_raw):!(!t||!t.__v_isReactive)}function yt(t){return!(!t||!t.__v_isReadonly)}function wt(t){return gt(t)||yt(t)}function Rt(t){return t&&Rt(t.__v_raw)||t}function bt(t){return((t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})})(t,\"__v_skip\",!0),t}const St=t=>a(t)?ht(t):t;function kt(t){return Boolean(t&&!0===t.__v_isRef)}function Et(t){return Ot(t)}function mt(t){return Ot(t,!0)}class jt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:St(t)}get value(){return P(Rt(this),0,\"value\"),this._value}set value(t){_(Rt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:St(t),x(Rt(this),\"set\",\"value\",t))}}function Ot(t,e=!1){return kt(t)?t:new jt(t,e)}function Pt(t){x(Rt(t),\"set\",\"value\",void 0)}function xt(t){return kt(t)?t.value:t}const zt={get:(t,e,n)=>xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Mt(t){return gt(t)?t:new Proxy(t,zt)}class At{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t(()=>P(this,0,\"value\"),()=>x(this,\"set\",\"value\"));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Wt(t){return new At(t)}function Nt(t){const e=i(t)?new Array(t.length):{};for(const n in t)e[n]=It(t,n);return e}class Vt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function It(t,e){return kt(t[e])?t[e]:new Vt(t,e)}class Kt{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=w(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,x(Rt(this),\"set\",\"value\"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),P(Rt(this),0,\"value\"),this._value}set value(t){this._setter(t)}}function Bt(t){let n,r;return c(t)?(n=t,r=e):(n=t.get,r=t.set),new Kt(n,r,c(t)||!t.set)}export{g as ITERATE_KEY,Bt as computed,Wt as customRef,w as effect,j as enableTracking,wt as isProxy,gt as isReactive,yt as isReadonly,kt as isRef,bt as markRaw,m as pauseTracking,Mt as proxyRefs,ht as reactive,vt as readonly,Et as ref,O as resetTracking,_t as shallowReactive,dt as shallowReadonly,mt as shallowRef,R as stop,Rt as toRaw,It as toRef,Nt as toRefs,P as track,x as trigger,Pt as triggerRef,xt as unref};\n","\nexport function directives(el, attributes) {\n    let attributeNamesAndValues = attributes || Array.from(el.attributes).map(attr => ({name: attr.name, value: attr.value}))\n\n    attributeNamesAndValues = attributeNamesAndValues.map(({name, value}) => interceptNameAndValue({ name, value}))\n\n    let directives = attributeNamesAndValues.filter(isXAttr).map(parseHtmlAttribute)\n\n    return sortDirectives(directives)\n}\n\nexport function directivesByType(el, type) {\n    return directives(el).filter(attribute => attribute.type === type)\n}\n\nexport function directiveByType(el, type) {\n    return directivesByType(el, type)[0]\n}\n\nlet xAttrRE = /^x-([^:^.]+)\\b/\n\nfunction isXAttr({ name, value }) {\n    return xAttrRE.test(name)\n}\n\nfunction sortDirectives(directives) {\n    let directiveOrder = ['data', 'spread', 'ref', 'init', 'bind', 'for', 'model', 'transition', 'show', 'catch-all', 'element']\n\n    return directives.sort((a, b) => {\n        let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type\n        let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type\n\n        return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB)\n    })\n}\n\nfunction parseHtmlAttribute({ name, value }) {\n    const typeMatch = name.match(xAttrRE)\n    const valueMatch = name.match(/:([a-zA-Z0-9\\-:]+)/)\n    const modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || []\n\n    return {\n        type: typeMatch ? typeMatch[1] : null,\n        value: valueMatch ? valueMatch[1] : null,\n        modifiers: modifiers.map(i => i.replace('.', '')),\n        expression: value,\n    }\n}\n\nlet interceptors = []\n\nfunction interceptNameAndValue({ name, value }, addAttributes) {\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith('@')) name = name.replace('@', 'x-on:')\n\n        return { name, value }\n    })\n\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith(':')) name = name.replace(':', 'x-bind:')\n\n        return { name,  value }\n    })\n\n    return interceptors.reduce((carry, interceptor) => {\n        return interceptor(carry, addAttributes)\n    }, { name, value })\n}\n","\nexport function root(el) {\n    if (el.hasAttribute('x-data') || el.hasAttribute('x-data.append')) return el\n\n    if (! el.parentElement) return\n\n    return root(el.parentElement)\n}\n","\nexport default function mergeProxies(...objects) {\n    return new Proxy({}, {\n        get: (target, name) => {\n            return (objects.find(object => Object.keys(object).includes(name)) || {})[name];\n        },\n\n        set: (target, name, value) => {\n            let closestObjectWithKey = objects.find(object => Object.keys(object).includes(name))\n            // @todo: you might need to re-add me, just trying to see if we need this.\n            // let closestCanonicalObject = objects.find(object => object['_x_canonical'])\n\n            if (closestObjectWithKey) {\n                closestObjectWithKey[name] = value\n            // } else if (closestCanonicalObject) {\n            //     closestCanonicalObject[name] = value\n            } else {\n                objects[objects.length - 1][name] = value\n            }\n\n            return true\n        },\n    })\n}\n","import mergeProxies from './mergeProxies'\n\nexport function closestDataStack(node) {\n    if (node._x_dataStack) return node._x_dataStack\n\n    if (node instanceof ShadowRoot) {\n        return closestDataStack(node.host)\n    }\n\n    if (! node.parentNode) {\n        return new Set\n    }\n\n    return closestDataStack(node.parentNode)\n}\n\nexport function closestDataProxy(el) {\n    return mergeProxies(...closestDataStack(el))\n}\n","import scheduler from './scheduler.js'\nimport { reactive, effect, markRaw, toRaw, pauseTracking, enableTracking } from './reactivity'\nimport { directiveByType, directives } from './utils/directives'\nimport { root } from './utils/root.js'\nimport { closestDataStack } from './utils/closest.js'\n\nlet Alpine = {\n    reactive,\n    syncEffect: effect,\n\n    markRaw,\n    toRaw,\n\n    scheduler,\n\n    get effect() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            // }, {\n            //     scheduler(run) {\n            //         scheduler.task(run)\n            //     }\n            })\n        }\n    },\n\n    get effectSync() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            })\n        }\n    },\n\n    directives: {},\n\n    magics: {},\n\n    components: {},\n\n\n    directive(name, callback) {\n        this.directives[name] = callback\n    },\n\n    magic(name, callback) {\n        this.magics[name] = callback\n    },\n\n    component(name, callback) {\n        this.components[name] = callback\n    },\n\n    stores: {},\n\n    store(name, object) {\n        this.stores[name] = this.reactive(object)\n    },\n\n    getStore(name) {\n        return this.stores[name]\n    },\n\n    injectMagics(obj, el) {\n        Object.entries(this.magics).forEach(([name, callback]) => {\n            Object.defineProperty(obj, `$${name}`, {\n                get() { return callback(el) },\n                enumerable: true,\n            })\n        })\n    },\n\n    start() {\n        document.dispatchEvent(new CustomEvent('alpine:initializing'), { bubbles: true })\n\n        this.listenForAndReactToDomManipulations(document.querySelector('body'))\n\n        let outNestedComponents = el => ! root(el.parentNode || root(el))\n\n        Array.from(document.querySelectorAll('[x-data], [x-data\\\\.append]'))\n            .filter(outNestedComponents)\n            .forEach(el => this.initTree(el))\n\n        document.dispatchEvent(new CustomEvent('alpine:initialized'), { bubbles: true })\n    },\n\n    // copyTree(originalEl, newEl) {\n    //     newEl._x_data = originalEl._x_data\n    //     newEl._x_$data = this.reactive(originalEl._x_data)\n    //     newEl._x_dataStack = originalEl._x_dataStack\n    //     newEl._x_dataStack = new Set(closestDataStack(originalEl))\n    //     newEl._x_dataStack.add(newEl._x_$data)\n\n    //     let root = true\n\n    //     this.walk(newEl, (el, skipSubTree) => {\n    //         if (! root && !! directiveByType(el, 'data')) return skipSubTree()\n\n    //         root = false\n\n    //         this.init(el, false)\n    //     })\n\n    //     // @todo: why is this here, why does this break Livewire reactivity?\n    //     // this.skipEffects = true\n    //     this.scheduler.flushImmediately()\n    //     // delete this.skipEffects\n    // },\n\n    initTree(root) {\n        if (root instanceof ShadowRoot) {\n            Array.from(root.children).forEach(child => this.walk(child, el => this.init(el)))\n        } else {\n            this.walk(root, el => this.init(el))\n        }\n\n        this.scheduler.flush()\n    },\n\n    init(el, attributes) {\n        (attributes || directives(el)).forEach(attr => {\n            let noop = () => {}\n            let handler = Alpine.directives[attr.type] || noop\n\n            // Run \"x-ref/data/spread\" on the initial sweep.\n            // let task = handler.immediate\n            //     ? callback => callback()\n            //     : this.scheduler.task.bind(this.scheduler)\n            let task = callback => callback()\n\n            task(() => {\n                handler(el, attr.value, attr.modifiers, attr.expression, Alpine.effect)\n            })\n        })\n    },\n\n    destroyCallbacks: new WeakMap,\n\n    addDestroyCallback(el, callback) {\n        if (! this.destroyCallbacks.get(el)) {\n            this.destroyCallbacks.set(el, [])\n        }\n\n        this.destroyCallbacks.get(el).push(callback)\n    },\n\n    destroyTree(root) {\n        this.walk(root, el => this.destroy(el))\n\n        this.scheduler.flush()\n    },\n\n    destroy(el) {\n        let callbacks = this.destroyCallbacks.get(el)\n\n        callbacks && callbacks.forEach(callback => callback())\n    },\n\n    listenForAndReactToDomManipulations(rootElement) {\n        let observer = new MutationObserver(mutations => {\n            for(let mutation of mutations) {\n                if (mutation.type !== 'childList') continue\n\n                for(let node of mutation.addedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    if (node._x_ignoreMutationObserver) continue\n\n                    this.initTree(node)\n                }\n\n                for(let node of mutation.removedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    // Don't block execution for destroy callbacks.\n                    scheduler.nextTick(() => {\n                        this.destroyTree(node)\n                    })\n                }\n            }\n        })\n\n        observer.observe(rootElement, { subtree: true, childList: true, deep: false })\n    },\n\n    walk(el, callback) {\n        let skip = false\n        callback(el, () => skip = true)\n        if (skip) return\n\n        let node = el.firstElementChild\n\n        while (node) {\n            this.walk(node, callback, false)\n\n            node = node.nextElementSibling\n        }\n    },\n}\n\nexport default Alpine\n","\nexport function setClasses(el, classString) {\n    let isInvalidType = subject => (typeof subject === 'object' && ! subject instanceof String) || Array.isArray(subject)\n\n    if (isInvalidType(classString)) console.warn('Alpine: class bindings must return a string or a stringable type. Arrays and Objects are no longer supported.')\n\n    // This is to allow short ifs like: :class=\"show || 'hidden'\"\n    if (classString === true) classString = ''\n\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let missingClasses = classString => classString.split(' ').filter(i => ! el.classList.contains(i)).filter(Boolean)\n\n    let addClassesAndReturnUndo = classes => {\n        el.classList.add(...classes)\n\n        return () => { el.classList.remove(...classes) }\n    }\n\n    return addClassesAndReturnUndo(missingClasses(classString || ''))\n}\n\nexport function toggleClasses(el, classObject) {\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean)\n    let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => ! bool ? split(classString) : false).filter(Boolean)\n\n    let added = []\n    let removed = []\n\n    forAdd.forEach(i => {\n        if (! el.classList.contains(i)) {\n            el.classList.add(i)\n            added.push(i)\n        }\n    })\n\n    forRemove.forEach(i => {\n        if (el.classList.contains(i)) {\n            el.classList.remove(i)\n            removed.push(i)\n        }\n    })\n\n    return () => {\n        added.forEach(i => el.classList.remove(i))\n        removed.forEach(i => el.classList.add(i))\n    }\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { setClasses } from '../utils/classes'\n\nlet handler = (el, value, modifiers, expression, effect) => {\n    if (! el._x_transition) {\n        el._x_transition = {\n            enter: { during: '', start: '', end: '' },\n\n            leave: { during: '', start: '', end: '' },\n\n            in(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.enter.during,\n                    start: this.enter.start,\n                    end: this.enter.end,\n                }, before, after)\n            },\n\n            out(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.leave.during,\n                    start: this.leave.start,\n                    end: this.leave.end,\n                }, before, after)\n            }\n        }\n    }\n\n    let directiveStorageMap = {\n        'enter': (classes) => { el._x_transition.enter.during = classes },\n        'enter-start': (classes) => { el._x_transition.enter.start = classes },\n        'enter-end': (classes) => { el._x_transition.enter.end = classes },\n        'leave': (classes) => { el._x_transition.leave.during = classes },\n        'leave-start': (classes) => { el._x_transition.leave.start = classes },\n        'leave-end': (classes) => { el._x_transition.leave.end = classes },\n    }\n\n    directiveStorageMap[value](expression)\n}\n\nAlpine.directive('transition', handler)\n\nexport function transitionClasses(el, { during = '', start = '', end = '' } = {}, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setClasses(el, start)\n        },\n        during() {\n            undoDuring = setClasses(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setClasses(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nexport function registerTranstions(el, modifiers) {\n    el._x_transition = {\n        enter: { during: {}, start: {}, end: {} },\n\n        leave: { during: {}, start: {}, end: {} },\n\n        in(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.enter.during,\n                start: this.enter.start,\n                end: this.enter.end,\n            }, before, after)\n        },\n\n        out(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.leave.during,\n                start: this.leave.start,\n                end: this.leave.end,\n            }, before, after)\n        }\n    }\n\n    let doesntSpecify = ! modifiers.includes('in') && ! modifiers.includes('out')\n    let transitioningIn = doesntSpecify || modifiers.includes('in')\n    let transitioningOut = doesntSpecify || modifiers.includes('out')\n\n    if (modifiers.includes('in') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index < modifiers.indexOf('out'))\n    }\n\n    if (modifiers.includes('out') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index > modifiers.indexOf('out'))\n    }\n\n    if (transitioningIn) {\n        el._x_transition.enter.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${modifierValue(modifiers, 'duration', 150) / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.enter.start = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n\n        el._x_transition.enter.end = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n    }\n\n\n    if (transitioningOut) {\n        let duration = modifierValue(modifiers, 'duration', 150) / 2\n\n        el._x_transition.leave.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${duration / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.leave.start = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n\n        el._x_transition.leave.end = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n    }\n\n    return\n\n\n    let settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out')\n\n    // // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n    let inModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers\n\n    let outModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers\n\n\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n        el.__x_transition.cancel && el.__x_transition.cancel()\n    }\n\n    // If the user set these style values, we'll put them back when we're done with them.\n    let opacityCache = el.style.opacity\n    let transformCache = el.style.transform\n    let transformOriginCache = el.style.transformOrigin\n\n    // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n    let noModifiers = ! modifiers.includes('opacity') && ! modifiers.includes('scale')\n    let transitionOpacity = noModifiers || modifiers.includes('opacity')\n    let transitionScale = noModifiers || modifiers.includes('scale')\n\n    // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n    let stages = {\n        start() {\n            if (transitionOpacity) el.style.opacity = styleValues.first.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`\n        },\n        during() {\n            if (transitionScale) el.style.transformOrigin = styleValues.origin\n            el.style.transitionProperty = [(transitionOpacity ? `opacity` : ``), (transitionScale ? `transform` : ``)].join(' ').trim()\n            el.style.transitionDuration = `${styleValues.duration / 1000}s`\n            el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`\n        },\n        show() {\n            hook1()\n        },\n        end() {\n            if (transitionOpacity) el.style.opacity = styleValues.second.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`\n        },\n        hide() {\n            hook2()\n        },\n        cleanup() {\n            if (transitionOpacity) el.style.opacity = opacityCache\n            if (transitionScale) el.style.transform = transformCache\n            if (transitionScale) el.style.transformOrigin = transformOriginCache\n            el.style.transitionProperty = null\n            el.style.transitionDuration = null\n            el.style.transitionTimingFunction = null\n        },\n    }\n}\n\nfunction transitionStyles(el, { during = {}, start = {}, end = {} }, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setStyles(el, start)\n        },\n        during() {\n            undoDuring = setStyles(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setStyles(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nfunction setStyles(el, styleObject) {\n    let previousStyles = {}\n\n    Object.entries(styleObject).forEach(([key, value]) => {\n        previousStyles[key] = el.style[key]\n\n        el.style[key] = value\n    })\n\n    return () => {\n        setStyles(el, previousStyles)\n    }\n}\n\nexport function performTransition(el, stages) {\n    let finish = once(() => {\n        stages.after()\n\n        // Adding an \"isConnected\" check, in case the callback removed the element from the DOM.\n        if (el.isConnected) stages.cleanup()\n\n        delete el._x_transitioning\n    })\n\n    el._x_transitioning = {\n        beforeCancels: [],\n        beforeCancel(callback) { this.beforeCancels.push(callback) },\n        cancel: once(function () { while (this.beforeCancels.length) { this.beforeCancels.shift()() }; finish(); }),\n        finish\n    }\n\n    stages.start()\n    stages.during()\n\n    scheduler.holdNextTicks()\n\n    requestAnimationFrame(() => {\n        // Note: Safari's transitionDuration property will list out comma separated transition durations\n        // for every single transition property. Let's grab the first one and call it a day.\n        let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000\n\n        if (duration === 0) {\n            duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000\n        }\n\n        stages.before()\n\n        requestAnimationFrame(() => {\n            stages.end()\n\n            scheduler.releaseNextTicks()\n\n            setTimeout(el._x_transitioning.finish, duration)\n        })\n    })\n}\n\nexport function once(callback) {\n    let called = false\n\n    return function () {\n        if (! called) {\n            called = true\n\n            callback.apply(this, arguments)\n        }\n    }\n}\n\nfunction modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback\n\n    // If it IS present, grab the value after it: x-show.transition.duration.500ms\n    const rawValue = modifiers[modifiers.indexOf(key) + 1]\n\n    if (! rawValue) return fallback\n\n    if (key === 'scale') {\n        // Check if the very next value is NOT a number and return the fallback.\n        // If x-show.transition.scale, we'll use the default scale value.\n        // That is how a user opts out of the opacity transition.\n        if (! isNumeric(rawValue)) return fallback\n    }\n\n    if (key === 'duration') {\n        // Support x-show.transition.duration.500ms && duration.500\n        let match = rawValue.match(/([0-9]+)ms/)\n        if (match) return match[1]\n    }\n\n    if (key === 'origin') {\n        // Support chaining origin directions: x-show.transition.top.right\n        if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n            return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ')\n        }\n    }\n\n    return rawValue\n}\n","import Alpine from '../alpine.js'\nimport mergeProxies from './mergeProxies'\nimport { closestDataStack } from './closest'\n\nexport function evaluator(el, expression, extras = {}, returns = true) {\n    // Ok, gear up for this method. It's a bit of a bumpy ride.\n\n    // First, we establish all data we want made available to the function/expression.\n    let farExtras = {}\n    let dataStack = closestDataStack(el)\n    let closeExtras = extras\n\n    Alpine.injectMagics(closeExtras, el)\n\n    // Now we smush em all together into one stack and reverse it so we can give proper scoping priority later.\n    let reversedDataStack = [farExtras].concat(Array.from(dataStack).concat([closeExtras])).reverse()\n\n    // We're going to use Async functions for evaluation to allow for the use of \"await\" in expressions.\n    let AsyncFunction = Object.getPrototypeOf(async function(){}).constructor\n\n    // If we weren't given a string expression (in the case of x-spread), evaluate the function directly.\n    if (typeof expression === 'function') {\n        let mergedObject = mergeProxies(...reversedDataStack)\n\n        let expressionWithContext = expression.bind(mergedObject)\n\n        return (...args) => {\n            let result = expressionWithContext(...args)\n\n            if (result instanceof Promise) {\n                return (receiver) => {\n                    result.then(i => receiver(i))\n                }\n            }\n\n            return (receiver) => receiver(result)\n        }\n    }\n\n    let names = reversedDataStack.map((data, index) => `$data${index}`)\n\n    let namesWithPlaceholder = ['$dataPlaceholder'].concat(names)\n\n    let assignmentPrefix = returns ? '__self.result = ' : ''\n\n    let withExpression = namesWithPlaceholder.reduce((carry, current) => { return `with (${current}) { ${carry} }` }, `${assignmentPrefix}${expression}`)\n\n    let namesWithPlaceholderAndDefault = names.concat(['$dataPlaceholder = {}'])\n\n    let evaluator = () => {}\n\n    // We wrap this in a try catch right now so we can catch errors when constructing the evaluator and handle them nicely.\n    evaluator = tryCatch(el, expression, () => (...args) => {\n        // We build the async function from the expression and arguments we constructed already.\n        let func = new AsyncFunction(['__self', ...namesWithPlaceholderAndDefault], `${withExpression}; __self.finished = true; return __self.result;`)\n\n        // The following rigamerol is to handle the AsyncFunction both synchronously AND asynchronously at the SAME TIME. What a rush.\n\n        // Because the async/promise body is evaluated immediately (synchronously), we can store any results and check\n        // if they are set synchronously.\n        func.result = undefined\n        func.finished = false\n\n        // Run the function.\n        let promise = func(...[func, ...args])\n\n        return (receiver) => {\n            // Check if the function ran synchronously,\n            if (func.finished) {\n                // Return the immediate result.\n                receiver(func.result)\n            } else {\n                // If not, return the result when the promise resolves.\n                promise.then(result => {\n                    receiver(result)\n                })\n            }\n        }\n    })\n\n\n    let boundEvaluator = evaluator.bind(null, ...reversedDataStack)\n\n    return tryCatch.bind(null, el, expression, boundEvaluator)\n}\n\nexport function evaluatorSync(el, expression, extras = {}, returns = true) {\n    let evaluate = evaluator(el, expression, extras, returns)\n\n    return (extras) => {\n        let result\n\n        evaluate(extras)(value => result = value)\n\n        return result\n    }\n}\n\nexport function evaluate(el, expression, extras = {}, returns = true) {\n    return evaluator(el, expression, extras, returns)()\n}\n\nexport function evaluateSync(el, expression, extras = {}, returns = true) {\n    let result\n\n    evaluator(el, expression, extras, returns)()(value => result = value)\n\n    return result\n}\n\n\nfunction tryCatch(el, expression, callback, ...args) {\n    try {\n        return callback(...args)\n    } catch (e) {\n        console.log(callback.toString())\n        console.warn(`Alpine Expression Error: ${e.message}\\n\\nExpression: \"${expression}\"\\n\\n`, el)\n\n        throw e\n    }\n}\n","import { closestDataStack } from './utils/closest'\n\nexport function addScopeToNode(node, data) {\n    node._x_dataStack = new Set(closestDataStack(node))\n\n    node._x_dataStack.add(data)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('provide', (el, value, modifiers, expression) => {\n    let evaluate = evaluatorSync(el, expression)\n\n    let root = closestCustomElementRoot(el)\n\n    if (! root._x_provides) root._x_provides = {}\n\n    Object.defineProperty(root._x_provides, expression, {\n        get() { return evaluate() }\n    })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el._x_customElementRoot) return el\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import { setClasses, toggleClasses } from '../utils/classes'\n\nexport default function bind(el, name, value, modifiers = []) {\n    // Register bound data as pure observable data for other APIs to use.\n    if (! el._x_bindings) el._x_bindings = Alpine.reactive({})\n\n    el._x_bindings[name] = value\n\n    name = modifiers.includes('camel') ? camelCase(name) : name\n\n    switch (name) {\n        case 'value':\n            bindInputValue(el, value)\n            break;\n\n        case 'class':\n            bindClasses(el, value)\n            break;\n\n        default:\n            bindAttribute(el, name, value)\n            break;\n    }\n}\n\nfunction bindInputValue(el, value) {\n    if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined) {\n            el.value = value\n        }\n\n        // @todo: yuck\n        if (window.fromModel) {\n            el.checked = checkedAttrLooseCompare(el.value, value)\n        }\n    } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean/array/number/null/undefined, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (Number.isInteger(value)) {\n            el.value = value\n        } else if (! Number.isInteger(value) && ! Array.isArray(value) && typeof value !== 'boolean' && ! [null, undefined].includes(value)) {\n            el.value = String(value)\n        } else {\n            if (Array.isArray(value)) {\n                el.checked = value.some(val => checkedAttrLooseCompare(val, el.value))\n            } else {\n                el.checked = !!value\n            }\n        }\n    } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value)\n    } else {\n        if (el.value === value) return\n\n        el.value = value\n    }\n}\n\nfunction bindClasses(el, value) {\n    if (el._x_undoAddedClasses) el._x_undoAddedClasses()\n\n    if (typeof value === 'object' && value !== null) {\n        el._x_undoAddedClasses = toggleClasses(el, value)\n    } else {\n        el._x_undoAddedClasses = setClasses(el, value)\n    }\n}\n\nfunction bindAttribute(el, name, value) {\n    // If an attribute's bound value is null, undefined or false, remove the attribute\n    if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(name)\n    } else {\n        isBooleanAttr(name) ? setIfChanged(el, name, name) : setIfChanged(el, name, value)\n    }\n}\n\nfunction setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n        el.setAttribute(attrName, value)\n    }\n}\n\nfunction updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => { return value + '' })\n\n    Array.from(el.options).forEach(option => {\n        option.selected = arrayWrappedValue.includes(option.value)\n    })\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = [\n        'disabled','checked','required','readonly','hidden','open', 'selected',\n        'autofocus', 'itemscope', 'multiple', 'novalidate','allowfullscreen',\n        'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop',\n        'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer',\n        'nomodule'\n    ]\n\n    return booleanAttributes.includes(attrName)\n}\n","\nexport default function on (el, event, modifiers, callback) {\n    let options = { passive: modifiers.includes('passive') }\n\n    if (modifiers.includes('camel')) event = camelCase(event)\n\n    if (modifiers.includes('away')) {\n        return addAwayListener(el, event, modifiers, callback, options)\n    } else {\n        let listenerTarget = modifiers.includes('window')\n            ? window : (modifiers.includes('document') ? document : el)\n\n        let handler = e => {\n            if (isKeyEvent(event)) {\n                if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n                    return\n                }\n            }\n\n            if (modifiers.includes('prevent')) e.preventDefault()\n            if (modifiers.includes('stop')) e.stopPropagation()\n            if (modifiers.includes('self') && e.target !== el) return\n\n            callback(e)\n\n            if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options)\n            }\n        }\n\n        if (modifiers.includes('debounce')) {\n            let nextModifier = modifiers[modifiers.indexOf('debounce')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = debounce(handler, wait, this)\n        }\n\n        if (modifiers.includes('throttle')) {\n            let nextModifier = modifiers[modifiers.indexOf('throttle')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = throttle(handler, wait, this)\n        }\n\n        listenerTarget.addEventListener(event, handler, options)\n\n        return () => {\n            listenerTarget.removeEventListener(event, handler, options)\n        }\n    }\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction addAwayListener(el, event, modifiers, callback, options) {\n    let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return\n\n        // Don't do anything if this element isn't currently visible.\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return\n\n        // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n        callback(e)\n\n        if (modifiers.includes('once')) {\n            document.removeEventListener(event, handler, options)\n        }\n    }\n\n    // Listen for this event at the root level.\n    document.addEventListener(event, handler, options)\n\n    return () => {\n        document.removeEventListener(event, handler, options)\n    }\n}\n\nfunction debounce(func, wait) {\n    var timeout\n    return function() {\n        var context = this, args = arguments\n        var later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n\nfunction throttle(func, limit) {\n    let inThrottle\n    return function() {\n        let context = this, args = arguments\n        if (! inThrottle) {\n            func.apply(context, args)\n            inThrottle = true\n            setTimeout(() => inThrottle = false, limit)\n        }\n    }\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n\nfunction kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase()\n}\n\n\nfunction isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event)\n}\n\nfunction isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n        return ! ['window', 'document', 'prevent', 'stop'].includes(i)\n    })\n\n    if (keyModifiers.includes('debounce')) {\n        let debounceIndex = keyModifiers.indexOf('debounce')\n        keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex+1] || 'invalid-wait').split('ms')[0]) ? 2 : 1)\n    }\n\n    // If no modifier is specified, we'll call it a press.\n    if (keyModifiers.length === 0) return false\n\n    // If one is passed, AND it matches the key pressed, we'll call it a press.\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false\n\n    // The user is listening for key combinations.\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super']\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier))\n\n    keyModifiers = keyModifiers.filter(i => ! selectedSystemKeyModifiers.includes(i))\n\n    if (selectedSystemKeyModifiers.length > 0) {\n        const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n            // Alias \"cmd\" and \"super\" to \"meta\"\n            if (modifier === 'cmd' || modifier === 'super') modifier = 'meta'\n\n            return e[`${modifier}Key`]\n        })\n\n        // If all the modifiers selected are pressed, ...\n        if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n            // AND the remaining key is pressed as well. It's a press.\n            if (keyModifiers[0] === keyToModifier(e.key)) return false\n        }\n    }\n\n    // We'll call it NOT a valid keypress.\n    return true\n}\n\nfunction keyToModifier(key) {\n    switch (key) {\n        case '/':\n            return 'slash'\n        case ' ':\n        case 'Spacebar':\n            return 'space'\n        default:\n            return key && kebabCase(key)\n    }\n}\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('model', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n    let assignmentExpression = `${expression} = rightSideOfExpression($event, ${expression})`\n    let evaluateAssignment = evaluator(el, assignmentExpression)\n\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = (el.tagName.toLowerCase() === 'select')\n        || ['checkbox', 'radio'].includes(el.type)\n        || modifiers.includes('lazy')\n            ? 'change' : 'input'\n\n    let assigmentFunction = generateAssignmentFunction(el, modifiers, expression)\n\n    let removeListener = on(el, event, modifiers, (e) => {\n        evaluateAssignment({\n            '$event': e,\n            rightSideOfExpression: assigmentFunction\n        })\n    })\n\n    el._x_forceModelUpdate = () => {\n        evaluate()(value => {\n            // If nested model key is undefined, set the default value to empty string.\n            if (value === undefined && expression.match(/\\./)) value = ''\n\n            // @todo: This is nasty\n            window.fromModel = true\n            bind(el, 'value', value)\n            delete window.fromModel\n        })\n    }\n\n    effect(() => {\n        // Don't modify the value of the input if it's focused.\n        if (modifiers.includes('unintrusive') && document.activeElement.isSameNode(el)) return\n\n        el._x_forceModelUpdate()\n    })\n})\n\nfunction generateAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n        // Radio buttons only work properly when they share a name attribute.\n        // People might assume we take care of that for them, because\n        // they already set a shared \"x-model\" attribute.\n        if (! el.hasAttribute('name')) el.setAttribute('name', expression)\n    }\n\n    return (event, currentValue) => {\n        // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n        if (event instanceof CustomEvent && event.detail !== undefined) {\n            return event.detail\n        } else if (el.type === 'checkbox') {\n            // If the data we are binding to is an array, toggle its value inside the array.\n            if (Array.isArray(currentValue)) {\n                let newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value\n\n                return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => ! checkedAttrLooseCompare(el, newValue))\n            } else {\n                return event.target.checked\n            }\n        } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n            return modifiers.includes('number')\n                ? Array.from(event.target.selectedOptions).map(option => {\n                    let rawValue = option.value || option.text\n                    return safeParseNumber(rawValue)\n                })\n                : Array.from(event.target.selectedOptions).map(option => {\n                    return option.value || option.text\n                })\n        } else {\n            let rawValue = event.target.value\n            return modifiers.includes('number')\n                ? safeParseNumber(rawValue)\n                : (modifiers.includes('trim') ? rawValue.trim() : rawValue)\n        }\n    }\n}\n\n\nfunction safeParseNumber(rawValue) {\n    let number = rawValue ? parseFloat(rawValue) : null\n\n    return isNumeric(number) ? number : rawValue\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n// @todo: make it so that transitions will only get loaded if it's available in the main bundle\nimport { registerTranstions } from './x-transition'\n\nAlpine.directive('show', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression, {}, true, true)\n\n    let hide = () => {\n        el.style.display = 'none'\n\n        el._x_is_shown = false\n    }\n\n    let show = () => {\n        if (el.style.length === 1 && el.style.display === 'none') {\n            el.removeAttribute('style')\n        } else {\n            el.style.removeProperty('display')\n        }\n\n        el._x_is_shown = true\n    }\n\n    // @todo make this more tree-shakeable\n    if (modifiers.includes('transition')) {\n        registerTranstions(el, modifiers)\n    }\n\n    let isFirstRun = true\n\n    effect(() => evaluate()(value => {\n        (isFirstRun || modifiers.includes('immediate'))\n            ? toggleImmediately(el, value, show, hide)\n            : toggleWithTransitions(el, value, show, hide)\n\n        isFirstRun = false\n    }))\n})\n\nfunction toggleImmediately(el, value, show, hide) {\n    value ? show() : hide()\n}\n\nfunction toggleWithTransitions(el, value, show, hide) {\n    if (value) {\n        el._x_transition\n            ? el._x_transition.in(show)\n            : show()\n    } else {\n        el._x_do_hide = el._x_transition\n            ? (resolve, reject) => {\n                el._x_transition.out(() => {}, () => resolve(hide))\n\n                el._x_transitioning.beforeCancel(() => reject({ isFromCancelledTransition: true }))\n            }\n            : (resolve) => resolve(hide)\n\n        queueMicrotask(() => {\n            let closest = closestHide(el)\n\n            if (closest) {\n                closest._x_hide_child = el\n            } else {\n                queueMicrotask(() => {\n                    let hidePromises = []\n                    let current = el\n                    while (current) {\n                        hidePromises.push(new Promise(current._x_do_hide))\n\n                        current = current._x_hide_child\n                    }\n\n                    hidePromises.reverse().reduce((promiseChain, promise) => {\n                        return promiseChain.then(() => {\n                            return promise.then(doHide => doHide())\n                        })\n                    }, Promise.resolve(() => {})).catch((e) => {\n                        if (! e.isFromCancelledTransition) throw e\n                    })\n                })\n            }\n        })\n    }\n}\n\nfunction closestHide(el) {\n    let parent = el.parentNode\n\n    if (! parent) return\n\n    return parent._x_do_hide ? parent : closestHide(parent)\n}\n","import { reactive } from './../reactivity'\nimport Alpine from '../alpine'\nimport { evaluateSync } from '../utils/evaluate'\nimport { closestDataProxy, closestDataStack } from '../utils/closest'\nimport { addScopeToNode } from '../scope'\n\ndocument.addEventListener('alpine:initializing', () => {\n    document.querySelectorAll('[x-element]').forEach(template => {\n        registerElement(template.getAttribute('x-element'), template)\n    })\n})\n\nfunction registerElement(name, template) {\n    customElements.define(name, class extends HTMLElement {\n        constructor() {\n            super()\n\n            let props = template.hasAttribute('x-props')\n                ? evaluateSync(template, template.getAttribute('x-props'))\n                : {}\n\n            this.setAttribute('x-element', name)\n\n            this._x_defaultProps = props\n            this._x_template = template\n\n            queueMicrotask(() => {\n                // If this component is not inside of Alpine scope\n                if (closestDataStack(this).size === 0) {\n                    console.log('not inside')\n                }\n            })\n        }\n    })\n}\n\nAlpine.directive('element', (el, value, modifiers, expression, effect) => {\n    let template = el._x_template\n    let defaultProps = el._x_defaultProps\n\n    let element = createElement(template)\n\n    let injectData = generateInjectDataObject(template, el)\n\n    let props = getProps(element, el, defaultProps)\n\n    transferAttributes(element, el, props)\n\n    element._x_dataStack = new Set([props, el._x_bindings || {}, injectData])\n\n    element._x_ignoreMutationObserver = true\n    element._x_customElementRoot = true\n\n    Alpine.initTree(element)\n\n    let slot = element.querySelector('slot')\n\n    let scope = {}\n\n    if (slot && el.hasAttribute('x-scope')) {\n        let scopeName = el.getAttribute('x-scope')\n\n        Object.defineProperty(scope, scopeName, {\n            get() {\n                return slot._x_bindings[scopeName]\n            }\n        })\n    }\n\n    el.childNodes.forEach(node => {\n        addScopeToNode(node, scope)\n    })\n\n    queueMicrotask(() => {\n        el.replaceWith(element)\n\n        el.removeAttribute('x-element')\n        element.setAttribute('x-element', expression)\n\n        // el._x_customElementRoot = true\n\n        slot && slot.replaceWith(...el.childNodes)\n    })\n})\n\nfunction generateInjectDataObject(template, el) {\n    let reactiveRoot = {}\n\n    if (! template.hasAttribute('x-inject')) return {}\n\n    let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n    injectNames.forEach(injectName => {\n        let getClosestProvides = (el, name) => {\n            if (! el) return {}\n            console.log(el, el._x_provides);\n\n            if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n            return getClosestProvides(el.parentNode, name)\n        }\n\n        let provides = getClosestProvides(el, injectName)\n\n        console.log(provides);\n\n        Object.defineProperty(reactiveRoot, injectName, {\n            get() {\n                return provides[injectName]\n            },\n        })\n    })\n\n    return reactiveRoot\n}\n\nfunction getProps(element, el, defaultProps) {\n    let props = {}\n\n    // Assign defaults\n    Object.entries(defaultProps).forEach(([key, value]) => props[key] = value)\n    let propKeys = Object.keys(props)\n\n    // Assign passed in vanillas\n    propKeys.forEach(key => el.hasAttribute(key) ? props[key] = el.getAttribute(key) : null)\n\n    return props\n}\n\nfunction transferAttributes(from, to, props) {\n    // Exempt props from attribute forwarding\n    Object.keys(props).forEach((propName) => {\n        if (from.hasAttribute(propName)) from.removeAttribute(propName)\n    })\n\n    // Merge classes\n    if (from.hasAttribute('class') && to.hasAttribute('class')) {\n        let froms = from.getAttribute('class').split(' ').map(i => i.trim())\n        let tos = to.getAttribute('class').split(' ').map(i => i.trim())\n\n        from.setAttribute('class', Array.from(new Set([...froms, ...tos])).join(' '))\n    }\n\n    Array.from(from.attributes).forEach(attribute => {\n        to.setAttribute(attribute.name, attribute.value)\n    })\n}\n\nfunction createElement(htmlOrTemplate) {\n    if (typeof htmlOrTemplate === 'string') {\n        return document.createRange().createContextualFragment(htmlOrTemplate).firstElementChild\n    }\n\n    return htmlOrTemplate.content.firstElementChild.cloneNode(true)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function registerElement(name, template) {\n//     customElements.define(name, class extends HTMLElement {\n//         constructor() {\n//             super()\n\n//             let shadow = this.attachShadow({ mode: 'open' })\n\n//             Array.from(template.content.children).forEach(child => {\n//                 shadow.append(child.cloneNode(true))\n//             })\n\n//             // @todo: totally undecided on this.\n//             // this.setAttribute('invisible', true)\n//             // this.style.display = 'contents'\n\n//             // This is great and does great things, but breaks flex\n//             // this.style.display = 'contents'\n\n//             // The main mutation observer won't pick up changes inside\n//             // shadow roots (like els added by x-for).\n//             Alpine.listenForAndReactToDomManipulations(this.shadowRoot)\n\n//             Alpine.scheduler.nextTick(() => {\n//                 let reactiveRoot = Alpine.reactive({})\n\n//                 let customElementRoot = this\n\n//                 if (template.hasAttribute('x-props')) {\n//                     let props = evaluateSync(this.shadowRoot, template.getAttribute('x-props'))\n\n//                     Object.entries(props).forEach(([propName, propDefault]) => {\n//                         // If the property was bound on the custom-element with x-bind.\n//                         if (this._x_bindings && typeof this._x_bindings[propName] !== undefined) {\n//                             Object.defineProperty(reactiveRoot, propName, {\n//                                 get() {\n//                                     return customElementRoot._x_bindings[propName]()\n//                                 }\n//                             })\n\n//                             return\n//                         }\n\n//                         // If the element has the property on itself.\n//                         if (this.hasAttribute(propName)) {\n//                             reactiveRoot[propName] = this.getAttribute(propName)\n\n//                             return\n//                         }\n\n//                         reactiveRoot[propName] = propDefault\n//                     })\n\n//                 }\n\n//                 if (template.hasAttribute('x-inject')) {\n//                     let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n//                     injectNames.forEach(injectName => {\n//                         let getClosestProvides = (el, name) => {\n//                             if (! el) return {}\n\n//                             if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n//                             return getClosestProvides(el.parentNode, name)\n//                         }\n\n//                         // We're gonna cache provides in the outer scope so we don't\n//                         // have to crawl up the dom tree every time we want it.\n//                         let provides\n\n//                         Object.defineProperty(reactiveRoot, injectName, {\n//                             get() {\n//                                 if (! provides) {\n//                                     provides = getClosestProvides(customElementRoot, injectName)\n//                                 }\n\n//                                 return provides[injectName]\n//                             },\n//                         })\n//                     })\n\n//                 }\n\n//                 this.shadowRoot._x_dataStack = new Set(closestDataStack(this.shadowRoot))\n//                 this.shadowRoot._x_dataStack.add(Alpine.reactive(reactiveRoot))\n\n//                 Alpine.initTree(shadow)\n//             })\n//         }\n//     })\n// }\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('destroy', (el, value, modifiers, expression) => {\n    Alpine.addDestroyCallback(el, () => evaluate(el, expression, {}, false))\n})\n","import Alpine from '../alpine'\nimport { directives } from '../utils/directives'\nimport { evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('spread', (el, value, modifiers, expression, effect) => {\n    let spreadObject = evaluateSync(el, expression)\n\n    let rawAttributes = Object.entries(spreadObject).map(([name, value]) => ({ name, value }))\n\n    let attributes = directives(el, rawAttributes)\n\n    Alpine.init(el, attributes)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { closestDataStack } from '../utils/closest'\nimport { evaluateSync, evaluator } from '../utils/evaluate'\n\nAlpine.directive('scope', (el, value, modifiers, expression) => {\n    console.log('scope')\n    // })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el.host) return el.host\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.directive('cloak', (el) => {\n    scheduler.nextTick(() => {\n        el.removeAttribute('x-cloak')\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('watch', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, `$watch('${value}', $value => ${expression})`)\n\n    setTimeout(() => {\n        evaluate()\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('init', (el, value, modifiers, expression, effect) => {\n    evaluate(el, expression, {}, false)\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('text', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    effect(() => {\n        evaluate()(value => {\n            el.textContent = value\n        })\n    })\n})\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('bind', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    // Ignore x-bind:key. (x-for will handle that)\n    if (value === 'key') return\n\n    effect(() => evaluate()(result => {\n        bind(el, value, result, modifiers)\n    }))\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { evaluate, evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('data', (el, value, modifiers, expression, effect) => {\n    expression = expression === '' ? '{}' : expression\n\n    let components = Alpine.components\n\n    let data = Object.keys(components).includes(expression)\n        ? components[expression]()\n        : evaluateSync(el, expression)\n\n    Alpine.injectMagics(data, el)\n\n    addScopeToNode(el, reactive(data))\n\n    if (data['init']) {\n        evaluateSync(el, data['init'].bind(data))\n    }\n\n    if (data['destroy']) {\n        Alpine.addDestroyCallback(el, () => {\n            evaluate(el, data['destroy'].bind(data))\n        })\n    }\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { closestDataStack } from '../utils/closest'\nimport { directivesByType } from '../utils/directives'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('for', (el, value, modifiers, expression, effect) => {\n    let iteratorNames = parseForExpression(expression)\n\n    let evaluateItems = evaluator(el, iteratorNames.items)\n    let evaluateKey = evaluatorSync(el,\n        // Look for a :key=\"...\" expression\n        directivesByType(el, 'bind').filter(attribute => attribute.value === 'key')[0]?.expression\n        // Otherwise, use \"index\"\n        || 'index'\n    )\n\n    effect(() => {\n        loop(el, iteratorNames, evaluateItems, evaluateKey)\n    })\n})\n\nfunction loop(el, iteratorNames, evaluateItems, evaluateKey) {\n    let templateEl = el\n\n    evaluateItems()(items => {\n        // This adds support for the `i in n` syntax.\n        if (isNumeric(items) && items > 0) {\n            items = Array.from(Array(items).keys(), i => i + 1)\n        }\n\n        let closestParentContext = closestDataStack(el)\n\n        // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n        let currentEl = templateEl\n        items.forEach((item, index) => {\n            let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items)\n\n            let currentKey = evaluateKey({ index, ...iterationScopeVariables })\n\n            let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey)\n\n            // If we haven't found a matching key, insert the element at the current position.\n            if (! nextEl) {\n                nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl)\n\n                addScopeToNode(nextEl, reactive(iterationScopeVariables))\n\n                nextEl._x_for = iterationScopeVariables\n            }\n\n            // Refresh scope\n            Object.entries(iterationScopeVariables).forEach(([key, value]) => {\n                Array.from(nextEl._x_dataStack).slice(-1)[0][key] = value\n            })\n\n\n            currentEl = nextEl\n            currentEl._x_for_key = currentKey\n        })\n\n        removeAnyLeftOverElementsFromPreviousUpdate(currentEl)\n    })\n}\n\n// This was taken from VueJS 2.* core. Thanks Vue!\nfunction parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\n    let stripParensRE = /^\\(|\\)$/g\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\n    let inMatch = expression.match(forAliasRE)\n    if (! inMatch) return\n    let res = {}\n    res.items = inMatch[2].trim()\n    let item = inMatch[1].trim().replace(stripParensRE, '')\n    let iteratorMatch = item.match(forIteratorRE)\n\n    if (iteratorMatch) {\n        res.item = item.replace(forIteratorRE, '').trim()\n        res.index = iteratorMatch[1].trim()\n\n        if (iteratorMatch[2]) {\n            res.collection = iteratorMatch[2].trim()\n        }\n    } else {\n        res.item = item\n    }\n    return res\n}\n\nfunction getIterationScopeVariables(iteratorNames, item, index, items) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = {}\n\n    scopeVariables[iteratorNames.item] = item\n\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index\n\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items\n\n    return scopeVariables\n}\n\nfunction addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true)\n\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling)\n\n    let inserted = currentEl.nextElementSibling\n\n    return inserted\n}\n\nfunction lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (! nextEl) return\n\n    // If the the key's DO match, no need to look ahead.\n    if (nextEl._x_for_key === currentKey) return nextEl\n\n    // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n    let tmpNextEl = nextEl\n\n    while(tmpNextEl) {\n        if (! tmpNextEl._x_for_key) return\n\n        if (tmpNextEl._x_for_key === currentKey) {\n            return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl)\n        }\n\n        tmpNextEl = (tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling._x_for_key !== undefined) ? tmpNextEl.nextElementSibling : false\n    }\n}\n\nfunction removeAnyLeftOverElementsFromPreviousUpdate(currentEl) {\n    var nextElementFromOldLoop = (currentEl.nextElementSibling && currentEl.nextElementSibling._x_for_key !== undefined) ? currentEl.nextElementSibling : false\n\n    while (nextElementFromOldLoop) {\n        let nextElementFromOldLoopImmutable = nextElementFromOldLoop\n        let nextSibling = nextElementFromOldLoop.nextElementSibling\n\n        nextElementFromOldLoopImmutable.remove()\n\n        nextElementFromOldLoop = (nextSibling && nextSibling._x_for_key !== undefined) ? nextSibling : false\n    }\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nlet handler = function (el, value, modifiers, expression, effect, before) {\n    let theRoot = root(el)\n\n    if (! theRoot._x_refs) theRoot._x_refs = {}\n\n    theRoot._x_refs[expression] = el\n}\n\nhandler.immediate = true\n\nAlpine.directive('ref', handler)\n","import Alpine from '../alpine'\nimport { effect } from '../reactivity'\nimport scheduler from '../scheduler'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('if', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    let show = () => {\n        let clonedFragment = el.content.cloneNode(true)\n\n        let first = clonedFragment.firstChild\n        let last = clonedFragment.lastChild\n\n        el.after(clonedFragment)\n\n        let range = document.createRange()\n        first && range.setStartBefore(first)\n        last && range.setEndAfter(last)\n\n        el._x_undoIf = () => range.deleteContents()\n    }\n\n    let hide = () => el._x_undoIf?.() || delete el._x_undoIf\n\n    effect(() => evaluate()(result => result ? show() : hide()))\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('on', (el, value, modifiers, expression) => {\n    let evaluate = evaluator(el, expression, {}, false)\n\n    let removeListener = on(el, value, modifiers, e => {\n        evaluate({ '$event': e })\n    })\n\n    Alpine.addDestroyCallback(el, removeListener)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.magic('nextTick', el => callback => scheduler.nextTick(callback))\n","import Alpine from '../alpine'\n\nAlpine.magic('dispatch', el => {\n    return (event, detail = {}) => {\n        return el._x_dispatch(event, detail)\n    }\n})\n\nwindow.Element.prototype._x_dispatch = function(event, detail = {}) {\n    this.dispatchEvent(new CustomEvent(event, {\n        detail,\n        bubbles: true,\n        // Allows events to pass the shadow DOM barrier.\n        composed: true,\n    }))\n}\n","import Alpine from '../alpine'\nimport { pauseTracking, enableTracking } from './../reactivity'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.magic('watch', el => {\n    return (key, callback) => {\n        let evaluate = evaluator(el, key)\n\n        let firstTime = true\n\n        let effect = Alpine.effect(() => evaluate()(value => {\n            // This is a hack to force deep reactivity for things like \"items.push()\"\n            let div = document.createElement('div')\n            div.dataset.hey = value\n\n            if (! firstTime) {\n                // Stop reactivity while running the watcher.\n                pauseTracking()\n\n                callback(value)\n\n                enableTracking()\n            }\n\n            firstTime = false\n        }))\n    }\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('store', () => {\n    return name => Alpine.getStore(name)\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('root', el => root(el))\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('refs', el => root(el)._x_refs || {})\n","import Alpine from '../alpine'\n\nAlpine.magic('el', el => el)\n","\nimport Alpine from './alpine'\n\n/**\n * Register Directives\n */\nimport './directives/x-transition'\n// import './directives/x-intersect'\nimport './directives/x-element'\nimport './directives/x-provide'\nimport './directives/x-destroy'\nimport './directives/x-spread'\nimport './directives/x-scope'\nimport './directives/x-model'\nimport './directives/x-cloak'\n// import './directives/x-morph'\nimport './directives/x-watch'\nimport './directives/x-init'\nimport './directives/x-text'\nimport './directives/x-bind'\nimport './directives/x-data'\nimport './directives/x-show'\nimport './directives/x-for'\nimport './directives/x-ref'\nimport './directives/x-if'\nimport './directives/x-on'\n\n/**\n * Register Magics\n */\nimport './magics/$nextTick'\nimport './magics/$dispatch'\nimport './magics/$watch'\nimport './magics/$store'\n// import './magics/$morph'\nimport './magics/$root'\nimport './magics/$refs'\nimport './magics/$el'\n\n/**\n * Start It Up\n */\nwindow.Alpine = Alpine\n\nAlpine.start()\n"],"names":["tasks","lowPriorityTasks","nextTicks","shouldFlush","ignore","callback","this","task","push","shouldFlushAtEndOfRequest","nextTick","holdNextTicks","holdNextTicksOver","releaseNextTicks","length","shift","queueMicrotask","_this","flush","flushImmediately","setTimeout","performance","now","_this2","navigator","_navigator","scheduling","_navigator$scheduling","isInputPending","bind","t","n","Object","assign","r","prototype","hasOwnProperty","s","e","call","i","Array","isArray","o","f","u","a","l","toString","h","parseInt","_","v","WeakMap","d","p","g","Symbol","y","w","_isEffect","raw","active","scheduler","includes","deps","delete","S","j","pop","O","id","b","allowRecurse","options","lazy","k","E","m","P","get","set","Map","Set","has","add","x","c","forEach","z","getOwnPropertyNames","map","filter","M","I","A","W","N","V","lt","at","Reflect","kt","value","vt","ht","K","Rt","Number","apply","B","deleteProperty","ownKeys","q","F","G","H","J","getPrototypeOf","L","__v_raw","Q","T","U","X","Y","Z","size","clear","$","tt","iterator","[object Object]","done","next","et","nt","rt","st","it","ot","ut","__v_isReadonly","pt","__v_isReactive","__v_skip","isExtensible","slice","ft","Proxy","Boolean","__v_isRef","directives","el","attributes","attributeNamesAndValues","from","attr","name","directiveOrder","sort","typeA","indexOf","type","typeB","sortDirectives","interceptors","startsWith","replace","reduce","carry","interceptor","interceptNameAndValue","isXAttr","parseHtmlAttribute","xAttrRE","test","typeMatch","match","valueMatch","modifiers","expression","root","hasAttribute","parentElement","mergeProxies","objects","target","find","object","keys","closestObjectWithKey","closestDataStack","node","_x_dataStack","ShadowRoot","host","parentNode","Alpine","reactive","syncEffect","effect","markRaw","defineProperty","configurable","enumerable","toRaw","skipEffects","effectSync","magics","components","directive","magic","component","stores","store","getStore","injectMagics","obj","entries","start","document","dispatchEvent","CustomEvent","bubbles","listenForAndReactToDomManipulations","querySelector","querySelectorAll","initTree","children","child","walk","init","destroyCallbacks","addDestroyCallback","destroyTree","_this3","destroy","callbacks","rootElement","MutationObserver","mutations","mutation","addedNodes","nodeType","_x_ignoreMutationObserver","_this4","removedNodes","observe","subtree","childList","deep","skip","firstElementChild","nextElementSibling","setClasses","classString","subject","classes","String","console","warn","split","classList","contains","missingClasses","remove","transitionClasses","before","after","undoStart","undoDuring","undoEnd","during","end","_x_transitioning","cancel","performTransition","cleanup","transitionStyles","setStyles","styleObject","previousStyles","key","style","stages","finish","once","isConnected","beforeCancels","beforeCancel","requestAnimationFrame","duration","getComputedStyle","transitionDuration","animationDuration","called","arguments","modifierValue","fallback","rawValue","isNumeric","join","evaluator","extras","returns","dataStack","closeExtras","reversedDataStack","concat","reverse","AsyncFunction","constructor","mergedObject","expressionWithContext","result","Promise","receiver","then","names","data","index","withExpression","current","namesWithPlaceholderAndDefault","boundEvaluator","tryCatch","func","undefined","finished","promise","evaluatorSync","evaluate","evaluateSync","log","message","addScopeToNode","closestCustomElementRoot","_x_customElementRoot","_x_bindings","toLowerCase","char","toUpperCase","window","fromModel","checked","checkedAttrLooseCompare","isInteger","some","val","tagName","arrayWrappedValue","option","selected","updateSelect","bindInputValue","_x_undoAddedClasses","classObject","forAdd","flatMap","forRemove","added","removed","toggleClasses","bindClasses","removeAttribute","setIfChanged","bindAttribute","attrName","getAttribute","setAttribute","valueA","valueB","on","event","passive","handler","offsetWidth","offsetHeight","removeEventListener","addEventListener","addAwayListener","limit","inThrottle","listenerTarget","isKeyEvent","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","nextModifier","wait","timeout","context","args","later","clearTimeout","debounce","isNaN","safeParseNumber","number","parseFloat","closestHide","parent","_x_do_hide","_x_transition","enter","leave","out","enter-start","enter-end","leave-start","leave-end","template","customElements","define","props","_x_defaultProps","_x_template","HTMLElement","registerElement","htmlOrTemplate","defaultProps","element","createRange","createContextualFragment","content","cloneNode","injectData","reactiveRoot","trim","injectName","provides","getClosestProvides","_x_provides","generateInjectDataObject","getProps","to","propName","froms","tos","attribute","transferAttributes","slot","scope","scopeName","childNodes","replaceWith","spreadObject","evaluateAssignment","assigmentFunction","currentValue","detail","newValue","multiple","selectedOptions","text","generateAssignmentFunction","$event","rightSideOfExpression","_x_forceModelUpdate","activeElement","isSameNode","textContent","hide","display","_x_is_shown","show","removeProperty","doesntSpecify","transitioningIn","transitioningOut","transitionOrigin","transitionProperty","transitionTimingFunction","opacity","transform","registerTranstions","isFirstRun","toggleImmediately","resolve","reject","isFromCancelledTransition","closest","_x_hide_child","hidePromises","promiseChain","doHide","toggleWithTransitions","iteratorNames","forIteratorRE","inMatch","res","items","item","iteratorMatch","collection","parseForExpression","evaluateItems","evaluateKey","directivesByType","templateEl","currentEl","iterationScopeVariables","scopeVariables","getIterationScopeVariables","currentKey","nextEl","_x_for_key","tmpNextEl","insertBefore","lookAheadForMatchingKeyedElementAndMoveItIfFound","clone","importNode","addElementInLoopAfterCurrentEl","_x_for","nextElementFromOldLoop","nextSibling","removeAnyLeftOverElementsFromPreviousUpdate","loop","theRoot","_x_refs","immediate","clonedFragment","first","firstChild","last","lastChild","range","setStartBefore","setEndAfter","_x_undoIf","deleteContents","removeListener","_x_dispatch","Element","composed","firstTime","createElement","dataset","hey","pauseTracking","enableTracking"],"mappings":"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"}