{"version":3,"file":"alpine.modern.js","sources":["../src/scheduler.js","../node_modules/@vue/reactivity/dist/reactivity.esm-browser.prod.js","../src/utils/directives.js","../src/utils/root.js","../src/utils/closest.js","../src/alpine.js","../src/utils/classes.js","../src/directives/x-transition.js","../src/utils/evaluate.js","../src/utils/mergeProxies.js","../src/scope.js","../src/directives/x-provide.js","../src/utils/bind.js","../src/utils/on.js","../src/directives/x-model.js","../src/directives/x-show.js","../src/directives/x-element.js","../src/directives/x-destroy.js","../src/directives/x-spread.js","../src/directives/x-scope.js","../src/directives/x-cloak.js","../src/directives/x-watch.js","../src/directives/x-init.js","../src/directives/x-text.js","../src/directives/x-bind.js","../src/directives/x-data.js","../src/directives/x-for.js","../src/directives/x-ref.js","../src/directives/x-if.js","../src/directives/x-on.js","../src/magics/$nextTick.js","../src/magics/$dispatch.js","../src/magics/$watch.js","../src/magics/$store.js","../src/magics/$root.js","../src/magics/$refs.js","../src/magics/$el.js","../src/index.js"],"sourcesContent":["\nexport default {\n    tasks: [],\n    lowPriorityTasks: [],\n    nextTicks: [],\n    shouldFlush: false,\n    ignore: false,\n\n    ignore(callback) {\n        this.ignore = true\n        callback()\n        this.ignore = false\n    },\n\n    task(callback) {\n        if (this.ignore === true) return\n\n        this.tasks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    nextTick(callback) {\n        this.nextTicks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    holdNextTicks() {\n        this.holdNextTicksOver = true\n    },\n\n    releaseNextTicks() {\n        while (this.nextTicks.length > 0) {\n            this.nextTicks.shift()()\n        }\n\n        this.holdNextTicksOver = false\n    },\n\n    shouldFlushAtEndOfRequest() {\n        this.shouldFlush = true\n\n        queueMicrotask(() => {\n            if (this.shouldFlush) this.flush()\n\n            this.shouldFlush = false\n        })\n    },\n\n    flushImmediately() {\n        while (this.tasks.length > 0) this.tasks.shift()()\n\n        if (! this.holdNextTicksOver) while (this.nextTicks.length > 0) this.nextTicks.shift()()\n\n    },\n\n    flush() {\n        setTimeout(() => {\n            let DEADLINE = performance.now() + 80\n\n            while (this.tasks.length > 0) {\n                //  || performance.now() >= DEADLINE\n                if (navigator?.scheduling?.isInputPending()) {\n                    // Yield if we have to handle an input event, or we're out of time.\n                    setTimeout(this.flush.bind(this))\n                    return;\n                }\n\n                this.tasks.shift()()\n            }\n\n            if (! this.holdNextTicksOver) {\n                setTimeout(() => {\n                    // Flush anything added by $nextTick\n                    while (this.nextTicks.length > 0) {\n                        this.nextTicks.shift()()\n                    }\n                })\n            }\n        })\n    }\n}\n","const t={},e=()=>{},n=Object.assign,r=Object.prototype.hasOwnProperty,s=(t,e)=>r.call(t,e),i=Array.isArray,o=t=>\"[object Map]\"===f(t),c=t=>\"function\"==typeof t,u=t=>\"symbol\"==typeof t,a=t=>null!==t&&\"object\"==typeof t,l=Object.prototype.toString,f=t=>l.call(t),h=t=>\"string\"==typeof t&&\"NaN\"!==t&&\"-\"!==t[0]&&\"\"+parseInt(t,10)===t,_=(t,e)=>t!==e&&(t==t||e==e),v=new WeakMap,d=[];let p;const g=Symbol(\"\"),y=Symbol(\"\");function w(e,n=t){(function(t){return t&&!0===t._isEffect})(e)&&(e=e.raw);const r=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!d.includes(n)){S(n);try{return j(),d.push(n),p=n,t()}finally{d.pop(),O(),p=d[d.length-1]}}};return n.id=b++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(e,n);return n.lazy||r(),r}function R(t){t.active&&(S(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let b=0;function S(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let k=!0;const E=[];function m(){E.push(k),k=!1}function j(){E.push(k),k=!0}function O(){const t=E.pop();k=void 0===t||t}function P(t,e,n){if(!k||void 0===p)return;let r=v.get(t);r||v.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(p)||(s.add(p),p.deps.push(s))}function x(t,e,n,r,s,c){const u=v.get(t);if(!u)return;const a=new Set,l=t=>{t&&t.forEach(t=>{(t!==p||t.allowRecurse)&&a.add(t)})};if(\"clear\"===e)u.forEach(l);else if(\"length\"===n&&i(t))u.forEach((t,e)=>{(\"length\"===e||e>=r)&&l(t)});else switch(void 0!==n&&l(u.get(n)),e){case\"add\":i(t)?h(n)&&l(u.get(\"length\")):(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"delete\":i(t)||(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"set\":o(t)&&l(u.get(g))}a.forEach(t=>{t.options.scheduler?t.options.scheduler(t):t()})}const z=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(u)),M=I(),A=I(!1,!0),W=I(!0),N=I(!0,!0),V={};function I(t=!1,e=!1){return function(n,r,o){if(\"__v_isReactive\"===r)return!t;if(\"__v_isReadonly\"===r)return t;if(\"__v_raw\"===r&&o===(t?lt:at).get(n))return n;const c=i(n);if(!t&&c&&s(V,r))return Reflect.get(V,r,o);const l=Reflect.get(n,r,o);if(u(r)?z.has(r):\"__proto__\"===r||\"__v_isRef\"===r)return l;if(t||P(n,0,r),e)return l;if(kt(l)){return!c||!h(r)?l.value:l}return a(l)?t?vt(l):ht(l):l}}[\"includes\",\"indexOf\",\"lastIndexOf\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){const n=Rt(this);for(let e=0,s=this.length;e<s;e++)P(n,0,e+\"\");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Rt)):r}}),[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){m();const n=e.apply(this,t);return O(),n}});function K(t=!1){return function(e,n,r,o){const c=e[n];if(!t&&(r=Rt(r),!i(e)&&kt(c)&&!kt(r)))return c.value=r,!0;const u=i(e)&&h(n)?Number(n)<e.length:s(e,n),a=Reflect.set(e,n,r,o);return e===Rt(o)&&(u?_(r,c)&&x(e,\"set\",n,r):x(e,\"add\",n,r)),a}}const B={get:M,set:K(),deleteProperty:function(t,e){const n=s(t,e),r=Reflect.deleteProperty(t,e);return r&&n&&x(t,\"delete\",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return u(e)&&z.has(e)||P(t,0,e),n},ownKeys:function(t){return P(t,0,i(t)?\"length\":g),Reflect.ownKeys(t)}},q={get:W,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},C=n({},B,{get:A,set:K(!0)}),D=n({},q,{get:N}),F=t=>a(t)?ht(t):t,G=t=>a(t)?vt(t):t,H=t=>t,J=t=>Reflect.getPrototypeOf(t);function L(t,e,n=!1,r=!1){const s=Rt(t=t.__v_raw),i=Rt(e);e!==i&&!n&&P(s,0,e),!n&&P(s,0,i);const{has:o}=J(s),c=n?G:r?H:F;return o.call(s,e)?c(t.get(e)):o.call(s,i)?c(t.get(i)):void 0}function Q(t,e=!1){const n=this.__v_raw,r=Rt(n),s=Rt(t);return t!==s&&!e&&P(r,0,t),!e&&P(r,0,s),t===s?n.has(t):n.has(t)||n.has(s)}function T(t,e=!1){return t=t.__v_raw,!e&&P(Rt(t),0,g),Reflect.get(t,\"size\",t)}function U(t){t=Rt(t);const e=Rt(this),n=J(e).has.call(e,t);return e.add(t),n||x(e,\"add\",t,t),this}function X(t,e){e=Rt(e);const n=Rt(this),{has:r,get:s}=J(n);let i=r.call(n,t);i||(t=Rt(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?_(e,o)&&x(n,\"set\",t,e):x(n,\"add\",t,e),this}function Y(t){const e=Rt(this),{has:n,get:r}=J(e);let s=n.call(e,t);s||(t=Rt(t),s=n.call(e,t));r&&r.call(e,t);const i=e.delete(t);return s&&x(e,\"delete\",t,void 0),i}function Z(){const t=Rt(this),e=0!==t.size,n=t.clear();return e&&x(t,\"clear\",void 0,void 0),n}function $(t,e){return function(n,r){const s=this,i=s.__v_raw,o=Rt(i),c=t?G:e?H:F;return!t&&P(o,0,g),i.forEach((t,e)=>n.call(r,c(t),c(e),s))}}function tt(t,e,n){return function(...r){const s=this.__v_raw,i=Rt(s),c=o(i),u=\"entries\"===t||t===Symbol.iterator&&c,a=\"keys\"===t&&c,l=s[t](...r),f=e?G:n?H:F;return!e&&P(i,0,a?y:g),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:u?[f(t[0]),f(t[1])]:f(t),done:e}},[Symbol.iterator](){return this}}}}function et(t){return function(...e){return\"delete\"!==t&&this}}const nt={get(t){return L(this,t)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!1)},rt={get(t){return L(this,t,!1,!0)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!0)},st={get(t){return L(this,t,!0)},get size(){return T(this,!0)},has(t){return Q.call(this,t,!0)},add:et(\"add\"),set:et(\"set\"),delete:et(\"delete\"),clear:et(\"clear\"),forEach:$(!0,!1)};function it(t,e){const n=e?rt:t?st:nt;return(e,r,i)=>\"__v_isReactive\"===r?!t:\"__v_isReadonly\"===r?t:\"__v_raw\"===r?e:Reflect.get(s(n,r)&&r in e?n:e,r,i)}[\"keys\",\"values\",\"entries\",Symbol.iterator].forEach(t=>{nt[t]=tt(t,!1,!1),st[t]=tt(t,!0,!1),rt[t]=tt(t,!1,!0)});const ot={get:it(!1,!1)},ct={get:it(!1,!0)},ut={get:it(!0,!1)},at=new WeakMap,lt=new WeakMap;function ft(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case\"Object\":case\"Array\":return 1;case\"Map\":case\"Set\":case\"WeakMap\":case\"WeakSet\":return 2;default:return 0}}((t=>f(t).slice(8,-1))(t))}function ht(t){return t&&t.__v_isReadonly?t:pt(t,!1,B,ot)}function _t(t){return pt(t,!1,C,ct)}function vt(t){return pt(t,!0,q,ut)}function dt(t){return pt(t,!0,D,ut)}function pt(t,e,n,r){if(!a(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=e?lt:at,i=s.get(t);if(i)return i;const o=ft(t);if(0===o)return t;const c=new Proxy(t,2===o?r:n);return s.set(t,c),c}function gt(t){return yt(t)?gt(t.__v_raw):!(!t||!t.__v_isReactive)}function yt(t){return!(!t||!t.__v_isReadonly)}function wt(t){return gt(t)||yt(t)}function Rt(t){return t&&Rt(t.__v_raw)||t}function bt(t){return((t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})})(t,\"__v_skip\",!0),t}const St=t=>a(t)?ht(t):t;function kt(t){return Boolean(t&&!0===t.__v_isRef)}function Et(t){return Ot(t)}function mt(t){return Ot(t,!0)}class jt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:St(t)}get value(){return P(Rt(this),0,\"value\"),this._value}set value(t){_(Rt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:St(t),x(Rt(this),\"set\",\"value\",t))}}function Ot(t,e=!1){return kt(t)?t:new jt(t,e)}function Pt(t){x(Rt(t),\"set\",\"value\",void 0)}function xt(t){return kt(t)?t.value:t}const zt={get:(t,e,n)=>xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Mt(t){return gt(t)?t:new Proxy(t,zt)}class At{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t(()=>P(this,0,\"value\"),()=>x(this,\"set\",\"value\"));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Wt(t){return new At(t)}function Nt(t){const e=i(t)?new Array(t.length):{};for(const n in t)e[n]=It(t,n);return e}class Vt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function It(t,e){return kt(t[e])?t[e]:new Vt(t,e)}class Kt{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=w(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,x(Rt(this),\"set\",\"value\"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),P(Rt(this),0,\"value\"),this._value}set value(t){this._setter(t)}}function Bt(t){let n,r;return c(t)?(n=t,r=e):(n=t.get,r=t.set),new Kt(n,r,c(t)||!t.set)}export{g as ITERATE_KEY,Bt as computed,Wt as customRef,w as effect,j as enableTracking,wt as isProxy,gt as isReactive,yt as isReadonly,kt as isRef,bt as markRaw,m as pauseTracking,Mt as proxyRefs,ht as reactive,vt as readonly,Et as ref,O as resetTracking,_t as shallowReactive,dt as shallowReadonly,mt as shallowRef,R as stop,Rt as toRaw,It as toRef,Nt as toRefs,P as track,x as trigger,Pt as triggerRef,xt as unref};\n","\nexport function directives(el, attributes) {\n    let attributeNamesAndValues = attributes || Array.from(el.attributes).map(attr => ({name: attr.name, value: attr.value}))\n\n    attributeNamesAndValues = attributeNamesAndValues.map(({name, value}) => interceptNameAndValue({ name, value}))\n\n    let directives = attributeNamesAndValues.filter(isXAttr).map(parseHtmlAttribute)\n\n    return sortDirectives(directives)\n}\n\nexport function directivesByType(el, type) {\n    return directives(el).filter(attribute => attribute.type === type)\n}\n\nexport function directiveByType(el, type) {\n    return directivesByType(el, type)[0]\n}\n\nlet xAttrRE = /^x-([^:^.]+)\\b/\n\nfunction isXAttr({ name, value }) {\n    return xAttrRE.test(name)\n}\n\nfunction sortDirectives(directives) {\n    let directiveOrder = ['data', 'spread', 'ref', 'init', 'bind', 'for', 'model', 'transition', 'show', 'catch-all', 'element']\n\n    return directives.sort((a, b) => {\n        let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type\n        let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type\n\n        return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB)\n    })\n}\n\nfunction parseHtmlAttribute({ name, value }) {\n    const typeMatch = name.match(xAttrRE)\n    const valueMatch = name.match(/:([a-zA-Z0-9\\-:]+)/)\n    const modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || []\n\n    return {\n        type: typeMatch ? typeMatch[1] : null,\n        value: valueMatch ? valueMatch[1] : null,\n        modifiers: modifiers.map(i => i.replace('.', '')),\n        expression: value,\n    }\n}\n\nlet interceptors = []\n\nfunction interceptNameAndValue({ name, value }, addAttributes) {\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith('@')) name = name.replace('@', 'x-on:')\n\n        return { name, value }\n    })\n\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith(':')) name = name.replace(':', 'x-bind:')\n\n        return { name,  value }\n    })\n\n    return interceptors.reduce((carry, interceptor) => {\n        return interceptor(carry, addAttributes)\n    }, { name, value })\n}\n","\nexport function root(el) {\n    if (el.hasAttribute('x-data') || el.hasAttribute('x-data.append')) return el\n\n    if (! el.parentElement) return\n\n    return root(el.parentElement)\n}\n","import mergeProxies from './mergeProxies'\n\nexport function closestDataStack(node) {\n    if (node._x_dataStack) return node._x_dataStack\n\n    if (node instanceof ShadowRoot) {\n        return closestDataStack(node.host)\n    }\n\n    if (! node.parentNode) {\n        return new Set\n    }\n\n    return closestDataStack(node.parentNode)\n}\n\nexport function closestDataProxy(el) {\n    return mergeProxies(...closestDataStack(el))\n}\n","import scheduler from './scheduler.js'\nimport { reactive, effect, markRaw, toRaw, pauseTracking, enableTracking } from './reactivity'\nimport { directiveByType, directives } from './utils/directives'\nimport { root } from './utils/root.js'\nimport { closestDataStack } from './utils/closest.js'\n\nlet Alpine = {\n    reactive,\n    syncEffect: effect,\n\n    markRaw,\n    toRaw,\n\n    scheduler,\n\n    get effect() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            // }, {\n            //     scheduler(run) {\n            //         scheduler.task(run)\n            //     }\n            })\n        }\n    },\n\n    get effectSync() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            })\n        }\n    },\n\n    directives: {},\n\n    magics: {},\n\n    components: {},\n\n\n    directive(name, callback) {\n        this.directives[name] = callback\n    },\n\n    magic(name, callback) {\n        this.magics[name] = callback\n    },\n\n    component(name, callback) {\n        this.components[name] = callback\n    },\n\n    stores: {},\n\n    store(name, object) {\n        this.stores[name] = this.reactive(object)\n    },\n\n    getStore(name) {\n        return this.stores[name]\n    },\n\n    injectMagics(obj, el) {\n        Object.entries(this.magics).forEach(([name, callback]) => {\n            Object.defineProperty(obj, `$${name}`, {\n                get() { return callback(el) },\n                enumerable: true,\n            })\n        })\n    },\n\n    start() {\n        document.dispatchEvent(new CustomEvent('alpine:initializing'), { bubbles: true })\n\n        this.listenForAndReactToDomManipulations(document.querySelector('body'))\n\n        let outNestedComponents = el => ! root(el.parentNode || root(el))\n\n        Array.from(document.querySelectorAll('[x-data], [x-data\\\\.append]'))\n            .filter(outNestedComponents)\n            .forEach(el => this.initTree(el))\n\n        document.dispatchEvent(new CustomEvent('alpine:initialized'), { bubbles: true })\n    },\n\n    // copyTree(originalEl, newEl) {\n    //     newEl._x_data = originalEl._x_data\n    //     newEl._x_$data = this.reactive(originalEl._x_data)\n    //     newEl._x_dataStack = originalEl._x_dataStack\n    //     newEl._x_dataStack = new Set(closestDataStack(originalEl))\n    //     newEl._x_dataStack.add(newEl._x_$data)\n\n    //     let root = true\n\n    //     this.walk(newEl, (el, skipSubTree) => {\n    //         if (! root && !! directiveByType(el, 'data')) return skipSubTree()\n\n    //         root = false\n\n    //         this.init(el, false)\n    //     })\n\n    //     // @todo: why is this here, why does this break Livewire reactivity?\n    //     // this.skipEffects = true\n    //     this.scheduler.flushImmediately()\n    //     // delete this.skipEffects\n    // },\n\n    initTree(root) {\n        console.log('inited');\n        if (root instanceof ShadowRoot) {\n            Array.from(root.children).forEach(child => this.walk(child, el => this.init(el)))\n        } else {\n            this.walk(root, el => this.init(el))\n        }\n\n        this.scheduler.flush()\n    },\n\n    init(el, attributes) {\n        (attributes || directives(el)).forEach(attr => {\n            let noop = () => {}\n            let handler = Alpine.directives[attr.type] || noop\n\n            console.log(el);\n\n            // Run \"x-ref/data/spread\" on the initial sweep.\n            // let task = handler.immediate\n            //     ? callback => callback()\n            //     : this.scheduler.task.bind(this.scheduler)\n            let task = callback => callback()\n\n            task(() => {\n                handler(el, attr.value, attr.modifiers, attr.expression, Alpine.effect)\n            })\n        })\n    },\n\n    destroyCallbacks: new WeakMap,\n\n    addDestroyCallback(el, callback) {\n        if (! this.destroyCallbacks.get(el)) {\n            this.destroyCallbacks.set(el, [])\n        }\n\n        this.destroyCallbacks.get(el).push(callback)\n    },\n\n    destroyTree(root) {\n        this.walk(root, el => this.destroy(el))\n\n        this.scheduler.flush()\n    },\n\n    destroy(el) {\n        let callbacks = this.destroyCallbacks.get(el)\n\n        callbacks && callbacks.forEach(callback => callback())\n    },\n\n    listenForAndReactToDomManipulations(rootElement) {\n        let observer = new MutationObserver(mutations => {\n            for(let mutation of mutations) {\n                if (mutation.type !== 'childList') continue\n\n                for(let node of mutation.addedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    if (node._x_ignoreMutationObserver) continue\n\n                    this.initTree(node)\n                }\n\n                for(let node of mutation.removedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    // Don't block execution for destroy callbacks.\n                    scheduler.nextTick(() => {\n                        this.destroyTree(node)\n                    })\n                }\n            }\n        })\n\n        observer.observe(rootElement, { subtree: true, childList: true, deep: false })\n    },\n\n    walk(el, callback) {\n        let skip = false\n        callback(el, () => skip = true)\n        if (skip) return\n\n        let node = el.firstElementChild\n\n        while (node) {\n            this.walk(node, callback, false)\n\n            node = node.nextElementSibling\n        }\n    },\n}\n\nexport default Alpine\n","\nexport function setClasses(el, classString) {\n    let isInvalidType = subject => (typeof subject === 'object' && ! subject instanceof String) || Array.isArray(subject)\n\n    if (isInvalidType(classString)) console.warn('Alpine: class bindings must return a string or a stringable type. Arrays and Objects are no longer supported.')\n\n    // This is to allow short ifs like: :class=\"show || 'hidden'\"\n    if (classString === true) classString = ''\n\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let missingClasses = classString => classString.split(' ').filter(i => ! el.classList.contains(i)).filter(Boolean)\n\n    let addClassesAndReturnUndo = classes => {\n        el.classList.add(...classes)\n\n        return () => { el.classList.remove(...classes) }\n    }\n\n    return addClassesAndReturnUndo(missingClasses(classString || ''))\n}\n\nexport function toggleClasses(el, classObject) {\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean)\n    let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => ! bool ? split(classString) : false).filter(Boolean)\n\n    let added = []\n    let removed = []\n\n    forAdd.forEach(i => {\n        if (! el.classList.contains(i)) {\n            el.classList.add(i)\n            added.push(i)\n        }\n    })\n\n    forRemove.forEach(i => {\n        if (el.classList.contains(i)) {\n            el.classList.remove(i)\n            removed.push(i)\n        }\n    })\n\n    return () => {\n        added.forEach(i => el.classList.remove(i))\n        removed.forEach(i => el.classList.add(i))\n    }\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { setClasses } from '../utils/classes'\n\nlet handler = (el, value, modifiers, expression, effect) => {\n    if (! el._x_transition) {\n        el._x_transition = {\n            enter: { during: '', start: '', end: '' },\n\n            leave: { during: '', start: '', end: '' },\n\n            in(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.enter.during,\n                    start: this.enter.start,\n                    end: this.enter.end,\n                }, before, after)\n            },\n\n            out(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.leave.during,\n                    start: this.leave.start,\n                    end: this.leave.end,\n                }, before, after)\n            }\n        }\n    }\n\n    let directiveStorageMap = {\n        'enter': (classes) => { el._x_transition.enter.during = classes },\n        'enter-start': (classes) => { el._x_transition.enter.start = classes },\n        'enter-end': (classes) => { el._x_transition.enter.end = classes },\n        'leave': (classes) => { el._x_transition.leave.during = classes },\n        'leave-start': (classes) => { el._x_transition.leave.start = classes },\n        'leave-end': (classes) => { el._x_transition.leave.end = classes },\n    }\n\n    directiveStorageMap[value](expression)\n}\n\nAlpine.directive('transition', handler)\n\nexport function transitionClasses(el, { during = '', start = '', end = '' } = {}, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setClasses(el, start)\n        },\n        during() {\n            undoDuring = setClasses(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setClasses(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nexport function registerTranstions(el, modifiers) {\n    el._x_transition = {\n        enter: { during: {}, start: {}, end: {} },\n\n        leave: { during: {}, start: {}, end: {} },\n\n        in(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.enter.during,\n                start: this.enter.start,\n                end: this.enter.end,\n            }, before, after)\n        },\n\n        out(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.leave.during,\n                start: this.leave.start,\n                end: this.leave.end,\n            }, before, after)\n        }\n    }\n\n    let doesntSpecify = ! modifiers.includes('in') && ! modifiers.includes('out')\n    let transitioningIn = doesntSpecify || modifiers.includes('in')\n    let transitioningOut = doesntSpecify || modifiers.includes('out')\n\n    if (modifiers.includes('in') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index < modifiers.indexOf('out'))\n    }\n\n    if (modifiers.includes('out') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index > modifiers.indexOf('out'))\n    }\n\n    if (transitioningIn) {\n        el._x_transition.enter.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${modifierValue(modifiers, 'duration', 150) / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.enter.start = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n\n        el._x_transition.enter.end = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n    }\n\n\n    if (transitioningOut) {\n        let duration = modifierValue(modifiers, 'duration', 150) / 2\n\n        el._x_transition.leave.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${duration / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.leave.start = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n\n        el._x_transition.leave.end = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n    }\n\n    return\n\n\n    let settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out')\n\n    // // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n    let inModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers\n\n    let outModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers\n\n\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n        el.__x_transition.cancel && el.__x_transition.cancel()\n    }\n\n    // If the user set these style values, we'll put them back when we're done with them.\n    let opacityCache = el.style.opacity\n    let transformCache = el.style.transform\n    let transformOriginCache = el.style.transformOrigin\n\n    // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n    let noModifiers = ! modifiers.includes('opacity') && ! modifiers.includes('scale')\n    let transitionOpacity = noModifiers || modifiers.includes('opacity')\n    let transitionScale = noModifiers || modifiers.includes('scale')\n\n    // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n    let stages = {\n        start() {\n            if (transitionOpacity) el.style.opacity = styleValues.first.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`\n        },\n        during() {\n            if (transitionScale) el.style.transformOrigin = styleValues.origin\n            el.style.transitionProperty = [(transitionOpacity ? `opacity` : ``), (transitionScale ? `transform` : ``)].join(' ').trim()\n            el.style.transitionDuration = `${styleValues.duration / 1000}s`\n            el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`\n        },\n        show() {\n            hook1()\n        },\n        end() {\n            if (transitionOpacity) el.style.opacity = styleValues.second.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`\n        },\n        hide() {\n            hook2()\n        },\n        cleanup() {\n            if (transitionOpacity) el.style.opacity = opacityCache\n            if (transitionScale) el.style.transform = transformCache\n            if (transitionScale) el.style.transformOrigin = transformOriginCache\n            el.style.transitionProperty = null\n            el.style.transitionDuration = null\n            el.style.transitionTimingFunction = null\n        },\n    }\n}\n\nfunction transitionStyles(el, { during = {}, start = {}, end = {} }, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setStyles(el, start)\n        },\n        during() {\n            undoDuring = setStyles(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setStyles(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nfunction setStyles(el, styleObject) {\n    let previousStyles = {}\n\n    Object.entries(styleObject).forEach(([key, value]) => {\n        previousStyles[key] = el.style[key]\n\n        el.style[key] = value\n    })\n\n    return () => {\n        setStyles(el, previousStyles)\n    }\n}\n\nexport function performTransition(el, stages) {\n    let finish = once(() => {\n        stages.after()\n\n        // Adding an \"isConnected\" check, in case the callback removed the element from the DOM.\n        if (el.isConnected) stages.cleanup()\n\n        delete el._x_transitioning\n    })\n\n    el._x_transitioning = {\n        beforeCancels: [],\n        beforeCancel(callback) { this.beforeCancels.push(callback) },\n        cancel: once(function () { while (this.beforeCancels.length) { this.beforeCancels.shift()() }; finish(); }),\n        finish\n    }\n\n    stages.start()\n    stages.during()\n\n    scheduler.holdNextTicks()\n\n    requestAnimationFrame(() => {\n        // Note: Safari's transitionDuration property will list out comma separated transition durations\n        // for every single transition property. Let's grab the first one and call it a day.\n        let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000\n\n        if (duration === 0) {\n            duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000\n        }\n\n        stages.before()\n\n        requestAnimationFrame(() => {\n            stages.end()\n\n            scheduler.releaseNextTicks()\n\n            setTimeout(el._x_transitioning.finish, duration)\n        })\n    })\n}\n\nexport function once(callback) {\n    let called = false\n\n    return function () {\n        if (! called) {\n            called = true\n\n            callback.apply(this, arguments)\n        }\n    }\n}\n\nfunction modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback\n\n    // If it IS present, grab the value after it: x-show.transition.duration.500ms\n    const rawValue = modifiers[modifiers.indexOf(key) + 1]\n\n    if (! rawValue) return fallback\n\n    if (key === 'scale') {\n        // Check if the very next value is NOT a number and return the fallback.\n        // If x-show.transition.scale, we'll use the default scale value.\n        // That is how a user opts out of the opacity transition.\n        if (! isNumeric(rawValue)) return fallback\n    }\n\n    if (key === 'duration') {\n        // Support x-show.transition.duration.500ms && duration.500\n        let match = rawValue.match(/([0-9]+)ms/)\n        if (match) return match[1]\n    }\n\n    if (key === 'origin') {\n        // Support chaining origin directions: x-show.transition.top.right\n        if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n            return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ')\n        }\n    }\n\n    return rawValue\n}\n","import Alpine from '../alpine.js'\nimport mergeProxies from './mergeProxies'\nimport { closestDataStack } from './closest'\n\nexport function evaluator(el, expression, extras = {}, returns = true) {\n    // Ok, gear up for this method. It's a bit of a bumpy ride.\n\n    // First, we establish all data we want made available to the function/expression.\n    let farExtras = {}\n    let dataStack = closestDataStack(el)\n    let closeExtras = extras\n\n    Alpine.injectMagics(closeExtras, el)\n\n    // Now we smush em all together into one stack and reverse it so we can give proper scoping priority later.\n    let reversedDataStack = [farExtras].concat(Array.from(dataStack).concat([closeExtras])).reverse()\n\n    // We're going to use Async functions for evaluation to allow for the use of \"await\" in expressions.\n    let AsyncFunction = Object.getPrototypeOf(async function(){}).constructor\n\n    // If we weren't given a string expression (in the case of x-spread), evaluate the function directly.\n    if (typeof expression === 'function') {\n        let mergedObject = mergeProxies(...reversedDataStack)\n\n        let expressionWithContext = expression.bind(mergedObject)\n\n        return (...args) => {\n            let result = expressionWithContext(...args)\n\n            if (result instanceof Promise) {\n                return (receiver) => {\n                    result.then(i => receiver(i))\n                }\n            }\n\n            return (receiver) => receiver(result)\n        }\n    }\n\n    let names = reversedDataStack.map((data, index) => `$data${index}`)\n\n    let namesWithPlaceholder = ['$dataPlaceholder'].concat(names)\n\n    let assignmentPrefix = returns ? '__self.result = ' : ''\n\n    let withExpression = namesWithPlaceholder.reduce((carry, current) => { return `with (${current}) { ${carry} }` }, `${assignmentPrefix}${expression}`)\n\n    let namesWithPlaceholderAndDefault = names.concat(['$dataPlaceholder = {}'])\n\n    let evaluator = () => {}\n\n    // We wrap this in a try catch right now so we can catch errors when constructing the evaluator and handle them nicely.\n    evaluator = tryCatch(el, expression, () => (...args) => {\n        // We build the async function from the expression and arguments we constructed already.\n        let func = new AsyncFunction(['__self', ...namesWithPlaceholderAndDefault], `${withExpression}; __self.finished = true; return __self.result;`)\n\n        // The following rigamerol is to handle the AsyncFunction both synchronously AND asynchronously at the SAME TIME. What a rush.\n\n        // Because the async/promise body is evaluated immediately (synchronously), we can store any results and check\n        // if they are set synchronously.\n        func.result = undefined\n        func.finished = false\n\n        // Run the function.\n        let promise = func(...[func, ...args])\n\n        return (receiver) => {\n            // Check if the function ran synchronously,\n            if (func.finished) {\n                // Return the immediate result.\n                receiver(func.result)\n            } else {\n                // If not, return the result when the promise resolves.\n                promise.then(result => {\n                    receiver(result)\n                })\n            }\n        }\n    })\n\n\n    let boundEvaluator = evaluator.bind(null, ...reversedDataStack)\n\n    return tryCatch.bind(null, el, expression, boundEvaluator)\n}\n\nexport function evaluatorSync(el, expression, extras = {}, returns = true) {\n    let evaluate = evaluator(el, expression, extras, returns)\n\n    return (extras) => {\n        let result\n\n        evaluate(extras)(value => result = value)\n\n        return result\n    }\n}\n\nexport function evaluate(el, expression, extras = {}, returns = true) {\n    return evaluator(el, expression, extras, returns)()\n}\n\nexport function evaluateSync(el, expression, extras = {}, returns = true) {\n    let result\n\n    evaluator(el, expression, extras, returns)()(value => result = value)\n\n    return result\n}\n\n\nfunction tryCatch(el, expression, callback, ...args) {\n    try {\n        return callback(...args)\n    } catch (e) {\n        console.log(callback.toString())\n        console.warn(`Alpine Expression Error: ${e.message}\\n\\nExpression: \"${expression}\"\\n\\n`, el)\n\n        throw e\n    }\n}\n","\nexport default function mergeProxies(...objects) {\n    return new Proxy({}, {\n        get: (target, name) => {\n            return (objects.find(object => Object.keys(object).includes(name)) || {})[name];\n        },\n\n        set: (target, name, value) => {\n            let closestObjectWithKey = objects.find(object => Object.keys(object).includes(name))\n            // @todo: you might need to re-add me, just trying to see if we need this.\n            // let closestCanonicalObject = objects.find(object => object['_x_canonical'])\n\n            if (closestObjectWithKey) {\n                closestObjectWithKey[name] = value\n            // } else if (closestCanonicalObject) {\n            //     closestCanonicalObject[name] = value\n            } else {\n                objects[objects.length - 1][name] = value\n            }\n\n            return true\n        },\n    })\n}\n","import { closestDataStack } from './utils/closest'\n\nexport function addScopeToNode(node, data, referenceNode) {\n    node._x_dataStack = new Set(closestDataStack(referenceNode || node))\n\n    node._x_dataStack.add(data)\n}\n\nexport function refreshScopeOnNode(node, data, referenceNode) {\n    let currentStack = new Set(closestDataStack(referenceNode || node))\n\n    let currentScope = Array.from(currentStack).slice(-1)[0]\n\n    data.forEach()\n\n    node._x_dataStack.add(data)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('provide', (el, value, modifiers, expression) => {\n    let evaluate = evaluatorSync(el, expression)\n\n    let root = closestCustomElementRoot(el)\n\n    if (! root._x_provides) root._x_provides = {}\n\n    Object.defineProperty(root._x_provides, expression, {\n        get() { return evaluate() }\n    })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el._x_customElementRoot) return el\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import { setClasses, toggleClasses } from '../utils/classes'\n\nexport default function bind(el, name, value, modifiers = []) {\n    // Register bound data as pure observable data for other APIs to use.\n    if (! el._x_bindings) el._x_bindings = Alpine.reactive({})\n\n    el._x_bindings[name] = value\n\n    name = modifiers.includes('camel') ? camelCase(name) : name\n\n    switch (name) {\n        case 'value':\n            bindInputValue(el, value)\n            break;\n\n        case 'class':\n            bindClasses(el, value)\n            break;\n\n        default:\n            bindAttribute(el, name, value)\n            break;\n    }\n}\n\nfunction bindInputValue(el, value) {\n    if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined) {\n            el.value = value\n        }\n\n        // @todo: yuck\n        if (window.fromModel) {\n            el.checked = checkedAttrLooseCompare(el.value, value)\n        }\n    } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean/array/number/null/undefined, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (Number.isInteger(value)) {\n            el.value = value\n        } else if (! Number.isInteger(value) && ! Array.isArray(value) && typeof value !== 'boolean' && ! [null, undefined].includes(value)) {\n            el.value = String(value)\n        } else {\n            if (Array.isArray(value)) {\n                el.checked = value.some(val => checkedAttrLooseCompare(val, el.value))\n            } else {\n                el.checked = !!value\n            }\n        }\n    } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value)\n    } else {\n        if (el.value === value) return\n\n        el.value = value\n    }\n}\n\nfunction bindClasses(el, value) {\n    if (el._x_undoAddedClasses) el._x_undoAddedClasses()\n\n    if (typeof value === 'object' && value !== null) {\n        el._x_undoAddedClasses = toggleClasses(el, value)\n    } else {\n        el._x_undoAddedClasses = setClasses(el, value)\n    }\n}\n\nfunction bindAttribute(el, name, value) {\n    // If an attribute's bound value is null, undefined or false, remove the attribute\n    if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(name)\n    } else {\n        isBooleanAttr(name) ? setIfChanged(el, name, name) : setIfChanged(el, name, value)\n    }\n}\n\nfunction setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n        el.setAttribute(attrName, value)\n    }\n}\n\nfunction updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => { return value + '' })\n\n    Array.from(el.options).forEach(option => {\n        option.selected = arrayWrappedValue.includes(option.value)\n    })\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = [\n        'disabled','checked','required','readonly','hidden','open', 'selected',\n        'autofocus', 'itemscope', 'multiple', 'novalidate','allowfullscreen',\n        'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop',\n        'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer',\n        'nomodule'\n    ]\n\n    return booleanAttributes.includes(attrName)\n}\n","\nexport default function on (el, event, modifiers, callback) {\n    let options = { passive: modifiers.includes('passive') }\n\n    if (modifiers.includes('camel')) event = camelCase(event)\n\n    if (modifiers.includes('away')) {\n        return addAwayListener(el, event, modifiers, callback, options)\n    } else {\n        let listenerTarget = modifiers.includes('window')\n            ? window : (modifiers.includes('document') ? document : el)\n\n        let handler = e => {\n            if (isKeyEvent(event)) {\n                if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n                    return\n                }\n            }\n\n            if (modifiers.includes('prevent')) e.preventDefault()\n            if (modifiers.includes('stop')) e.stopPropagation()\n            if (modifiers.includes('self') && e.target !== el) return\n\n            callback(e)\n\n            if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options)\n            }\n        }\n\n        if (modifiers.includes('debounce')) {\n            let nextModifier = modifiers[modifiers.indexOf('debounce')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = debounce(handler, wait, this)\n        }\n\n        if (modifiers.includes('throttle')) {\n            let nextModifier = modifiers[modifiers.indexOf('throttle')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = throttle(handler, wait, this)\n        }\n\n        listenerTarget.addEventListener(event, handler, options)\n\n        return () => {\n            listenerTarget.removeEventListener(event, handler, options)\n        }\n    }\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction addAwayListener(el, event, modifiers, callback, options) {\n    let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return\n\n        // Don't do anything if this element isn't currently visible.\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return\n\n        // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n        callback(e)\n\n        if (modifiers.includes('once')) {\n            document.removeEventListener(event, handler, options)\n        }\n    }\n\n    // Listen for this event at the root level.\n    document.addEventListener(event, handler, options)\n\n    return () => {\n        document.removeEventListener(event, handler, options)\n    }\n}\n\nfunction debounce(func, wait) {\n    var timeout\n    return function() {\n        var context = this, args = arguments\n        var later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n\nfunction throttle(func, limit) {\n    let inThrottle\n    return function() {\n        let context = this, args = arguments\n        if (! inThrottle) {\n            func.apply(context, args)\n            inThrottle = true\n            setTimeout(() => inThrottle = false, limit)\n        }\n    }\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n\nfunction kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase()\n}\n\n\nfunction isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event)\n}\n\nfunction isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n        return ! ['window', 'document', 'prevent', 'stop'].includes(i)\n    })\n\n    if (keyModifiers.includes('debounce')) {\n        let debounceIndex = keyModifiers.indexOf('debounce')\n        keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex+1] || 'invalid-wait').split('ms')[0]) ? 2 : 1)\n    }\n\n    // If no modifier is specified, we'll call it a press.\n    if (keyModifiers.length === 0) return false\n\n    // If one is passed, AND it matches the key pressed, we'll call it a press.\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false\n\n    // The user is listening for key combinations.\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super']\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier))\n\n    keyModifiers = keyModifiers.filter(i => ! selectedSystemKeyModifiers.includes(i))\n\n    if (selectedSystemKeyModifiers.length > 0) {\n        const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n            // Alias \"cmd\" and \"super\" to \"meta\"\n            if (modifier === 'cmd' || modifier === 'super') modifier = 'meta'\n\n            return e[`${modifier}Key`]\n        })\n\n        // If all the modifiers selected are pressed, ...\n        if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n            // AND the remaining key is pressed as well. It's a press.\n            if (keyModifiers[0] === keyToModifier(e.key)) return false\n        }\n    }\n\n    // We'll call it NOT a valid keypress.\n    return true\n}\n\nfunction keyToModifier(key) {\n    switch (key) {\n        case '/':\n            return 'slash'\n        case ' ':\n        case 'Spacebar':\n            return 'space'\n        default:\n            return key && kebabCase(key)\n    }\n}\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('model', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n    let assignmentExpression = `${expression} = rightSideOfExpression($event, ${expression})`\n    let evaluateAssignment = evaluator(el, assignmentExpression)\n\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = (el.tagName.toLowerCase() === 'select')\n        || ['checkbox', 'radio'].includes(el.type)\n        || modifiers.includes('lazy')\n            ? 'change' : 'input'\n\n    let assigmentFunction = generateAssignmentFunction(el, modifiers, expression)\n\n    let removeListener = on(el, event, modifiers, (e) => {\n        evaluateAssignment({\n            '$event': e,\n            rightSideOfExpression: assigmentFunction\n        })\n    })\n\n    el._x_forceModelUpdate = () => {\n        evaluate()(value => {\n            // If nested model key is undefined, set the default value to empty string.\n            if (value === undefined && expression.match(/\\./)) value = ''\n\n            // @todo: This is nasty\n            window.fromModel = true\n            bind(el, 'value', value)\n            delete window.fromModel\n        })\n    }\n\n    effect(() => {\n        // Don't modify the value of the input if it's focused.\n        if (modifiers.includes('unintrusive') && document.activeElement.isSameNode(el)) return\n\n        el._x_forceModelUpdate()\n    })\n})\n\nfunction generateAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n        // Radio buttons only work properly when they share a name attribute.\n        // People might assume we take care of that for them, because\n        // they already set a shared \"x-model\" attribute.\n        if (! el.hasAttribute('name')) el.setAttribute('name', expression)\n    }\n\n    return (event, currentValue) => {\n        // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n        if (event instanceof CustomEvent && event.detail !== undefined) {\n            return event.detail\n        } else if (el.type === 'checkbox') {\n            // If the data we are binding to is an array, toggle its value inside the array.\n            if (Array.isArray(currentValue)) {\n                let newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value\n\n                return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => ! checkedAttrLooseCompare(el, newValue))\n            } else {\n                return event.target.checked\n            }\n        } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n            return modifiers.includes('number')\n                ? Array.from(event.target.selectedOptions).map(option => {\n                    let rawValue = option.value || option.text\n                    return safeParseNumber(rawValue)\n                })\n                : Array.from(event.target.selectedOptions).map(option => {\n                    return option.value || option.text\n                })\n        } else {\n            let rawValue = event.target.value\n            return modifiers.includes('number')\n                ? safeParseNumber(rawValue)\n                : (modifiers.includes('trim') ? rawValue.trim() : rawValue)\n        }\n    }\n}\n\n\nfunction safeParseNumber(rawValue) {\n    let number = rawValue ? parseFloat(rawValue) : null\n\n    return isNumeric(number) ? number : rawValue\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n// @todo: make it so that transitions will only get loaded if it's available in the main bundle\nimport { registerTranstions } from './x-transition'\n\nAlpine.directive('show', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression, {}, true, true)\n\n    let hide = () => {\n        el.style.display = 'none'\n\n        el._x_is_shown = false\n    }\n\n    let show = () => {\n        if (el.style.length === 1 && el.style.display === 'none') {\n            el.removeAttribute('style')\n        } else {\n            el.style.removeProperty('display')\n        }\n\n        el._x_is_shown = true\n    }\n\n    // @todo make this more tree-shakeable\n    if (modifiers.includes('transition')) {\n        registerTranstions(el, modifiers)\n    }\n\n    let isFirstRun = true\n\n    effect(() => evaluate()(value => {\n        (isFirstRun || modifiers.includes('immediate'))\n            ? toggleImmediately(el, value, show, hide)\n            : toggleWithTransitions(el, value, show, hide)\n\n        isFirstRun = false\n    }))\n})\n\nfunction toggleImmediately(el, value, show, hide) {\n    value ? show() : hide()\n}\n\nfunction toggleWithTransitions(el, value, show, hide) {\n    if (value) {\n        el._x_transition\n            ? el._x_transition.in(show)\n            : show()\n    } else {\n        el._x_do_hide = el._x_transition\n            ? (resolve, reject) => {\n                el._x_transition.out(() => {}, () => resolve(hide))\n\n                el._x_transitioning.beforeCancel(() => reject({ isFromCancelledTransition: true }))\n            }\n            : (resolve) => resolve(hide)\n\n        queueMicrotask(() => {\n            let closest = closestHide(el)\n\n            if (closest) {\n                closest._x_hide_child = el\n            } else {\n                queueMicrotask(() => {\n                    let hidePromises = []\n                    let current = el\n                    while (current) {\n                        hidePromises.push(new Promise(current._x_do_hide))\n\n                        current = current._x_hide_child\n                    }\n\n                    hidePromises.reverse().reduce((promiseChain, promise) => {\n                        return promiseChain.then(() => {\n                            return promise.then(doHide => doHide())\n                        })\n                    }, Promise.resolve(() => {})).catch((e) => {\n                        if (! e.isFromCancelledTransition) throw e\n                    })\n                })\n            }\n        })\n    }\n}\n\nfunction closestHide(el) {\n    let parent = el.parentNode\n\n    if (! parent) return\n\n    return parent._x_do_hide ? parent : closestHide(parent)\n}\n","import { reactive } from './../reactivity'\nimport Alpine from '../alpine'\nimport { evaluateSync } from '../utils/evaluate'\nimport { closestDataProxy, closestDataStack } from '../utils/closest'\nimport { addScopeToNode } from '../scope'\n\ndocument.addEventListener('alpine:initializing', () => {\n    document.querySelectorAll('[x-element]').forEach(template => {\n        registerElement(template.getAttribute('x-element'), template)\n    })\n})\n\nfunction registerElement(name, template) {\n    customElements.define(name, class extends HTMLElement {\n        constructor() {\n            super()\n\n            let props = template.hasAttribute('x-props')\n                ? evaluateSync(template, template.getAttribute('x-props'))\n                : {}\n\n            this.setAttribute('x-element', name)\n\n            this._x_defaultProps = props\n            this._x_template = template\n\n            queueMicrotask(() => {\n                // If this component is not inside of Alpine scope\n                if (closestDataStack(this).size === 0) {\n                    console.log('not inside')\n                }\n            })\n        }\n    })\n}\n\nAlpine.directive('element', (el, value, modifiers, expression, effect) => {\n    let template = el._x_template\n    let defaultProps = el._x_defaultProps\n\n    let element = createElement(template)\n\n    let injectData = generateInjectDataObject(template, el)\n\n    let props = getProps(element, el, defaultProps)\n\n    transferAttributes(element, el, props)\n\n    element._x_dataStack = new Set([props, el._x_bindings || {}, injectData])\n\n    element._x_ignoreMutationObserver = true\n    element._x_customElementRoot = true\n\n    Alpine.initTree(element)\n\n    let slot = element.querySelector('slot')\n\n    let scope = {}\n\n    if (slot && el.hasAttribute('x-scope')) {\n        let scopeName = el.getAttribute('x-scope')\n\n        Object.defineProperty(scope, scopeName, {\n            get() {\n                return slot._x_bindings[scopeName]\n            }\n        })\n    }\n\n    el.childNodes.forEach(node => {\n        addScopeToNode(node, scope)\n    })\n\n    queueMicrotask(() => {\n        el.replaceWith(element)\n\n        el.removeAttribute('x-element')\n        element.setAttribute('x-element', expression)\n\n        // el._x_customElementRoot = true\n\n        slot && slot.replaceWith(...el.childNodes)\n    })\n})\n\nfunction generateInjectDataObject(template, el) {\n    let reactiveRoot = {}\n\n    if (! template.hasAttribute('x-inject')) return {}\n\n    let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n    injectNames.forEach(injectName => {\n        let getClosestProvides = (el, name) => {\n            if (! el) return {}\n            console.log(el, el._x_provides);\n\n            if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n            return getClosestProvides(el.parentNode, name)\n        }\n\n        let provides = getClosestProvides(el, injectName)\n\n        console.log(provides);\n\n        Object.defineProperty(reactiveRoot, injectName, {\n            get() {\n                return provides[injectName]\n            },\n        })\n    })\n\n    return reactiveRoot\n}\n\nfunction getProps(element, el, defaultProps) {\n    let props = {}\n\n    // Assign defaults\n    Object.entries(defaultProps).forEach(([key, value]) => props[key] = value)\n    let propKeys = Object.keys(props)\n\n    // Assign passed in vanillas\n    propKeys.forEach(key => el.hasAttribute(key) ? props[key] = el.getAttribute(key) : null)\n\n    return props\n}\n\nfunction transferAttributes(from, to, props) {\n    // Exempt props from attribute forwarding\n    Object.keys(props).forEach((propName) => {\n        if (from.hasAttribute(propName)) from.removeAttribute(propName)\n    })\n\n    // Merge classes\n    if (from.hasAttribute('class') && to.hasAttribute('class')) {\n        let froms = from.getAttribute('class').split(' ').map(i => i.trim())\n        let tos = to.getAttribute('class').split(' ').map(i => i.trim())\n\n        from.setAttribute('class', Array.from(new Set([...froms, ...tos])).join(' '))\n    }\n\n    Array.from(from.attributes).forEach(attribute => {\n        to.setAttribute(attribute.name, attribute.value)\n    })\n}\n\nfunction createElement(htmlOrTemplate) {\n    if (typeof htmlOrTemplate === 'string') {\n        return document.createRange().createContextualFragment(htmlOrTemplate).firstElementChild\n    }\n\n    return htmlOrTemplate.content.firstElementChild.cloneNode(true)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function registerElement(name, template) {\n//     customElements.define(name, class extends HTMLElement {\n//         constructor() {\n//             super()\n\n//             let shadow = this.attachShadow({ mode: 'open' })\n\n//             Array.from(template.content.children).forEach(child => {\n//                 shadow.append(child.cloneNode(true))\n//             })\n\n//             // @todo: totally undecided on this.\n//             // this.setAttribute('invisible', true)\n//             // this.style.display = 'contents'\n\n//             // This is great and does great things, but breaks flex\n//             // this.style.display = 'contents'\n\n//             // The main mutation observer won't pick up changes inside\n//             // shadow roots (like els added by x-for).\n//             Alpine.listenForAndReactToDomManipulations(this.shadowRoot)\n\n//             Alpine.scheduler.nextTick(() => {\n//                 let reactiveRoot = Alpine.reactive({})\n\n//                 let customElementRoot = this\n\n//                 if (template.hasAttribute('x-props')) {\n//                     let props = evaluateSync(this.shadowRoot, template.getAttribute('x-props'))\n\n//                     Object.entries(props).forEach(([propName, propDefault]) => {\n//                         // If the property was bound on the custom-element with x-bind.\n//                         if (this._x_bindings && typeof this._x_bindings[propName] !== undefined) {\n//                             Object.defineProperty(reactiveRoot, propName, {\n//                                 get() {\n//                                     return customElementRoot._x_bindings[propName]()\n//                                 }\n//                             })\n\n//                             return\n//                         }\n\n//                         // If the element has the property on itself.\n//                         if (this.hasAttribute(propName)) {\n//                             reactiveRoot[propName] = this.getAttribute(propName)\n\n//                             return\n//                         }\n\n//                         reactiveRoot[propName] = propDefault\n//                     })\n\n//                 }\n\n//                 if (template.hasAttribute('x-inject')) {\n//                     let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n//                     injectNames.forEach(injectName => {\n//                         let getClosestProvides = (el, name) => {\n//                             if (! el) return {}\n\n//                             if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n//                             return getClosestProvides(el.parentNode, name)\n//                         }\n\n//                         // We're gonna cache provides in the outer scope so we don't\n//                         // have to crawl up the dom tree every time we want it.\n//                         let provides\n\n//                         Object.defineProperty(reactiveRoot, injectName, {\n//                             get() {\n//                                 if (! provides) {\n//                                     provides = getClosestProvides(customElementRoot, injectName)\n//                                 }\n\n//                                 return provides[injectName]\n//                             },\n//                         })\n//                     })\n\n//                 }\n\n//                 this.shadowRoot._x_dataStack = new Set(closestDataStack(this.shadowRoot))\n//                 this.shadowRoot._x_dataStack.add(Alpine.reactive(reactiveRoot))\n\n//                 Alpine.initTree(shadow)\n//             })\n//         }\n//     })\n// }\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('destroy', (el, value, modifiers, expression) => {\n    Alpine.addDestroyCallback(el, () => evaluate(el, expression, {}, false))\n})\n","import Alpine from '../alpine'\nimport { directives } from '../utils/directives'\nimport { evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('spread', (el, value, modifiers, expression, effect) => {\n    let spreadObject = evaluateSync(el, expression)\n\n    let rawAttributes = Object.entries(spreadObject).map(([name, value]) => ({ name, value }))\n\n    let attributes = directives(el, rawAttributes)\n\n    Alpine.init(el, attributes)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { closestDataStack } from '../utils/closest'\nimport { evaluateSync, evaluator } from '../utils/evaluate'\n\nAlpine.directive('scope', (el, value, modifiers, expression) => {\n    console.log('scope')\n    // })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el.host) return el.host\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.directive('cloak', (el) => {\n    scheduler.nextTick(() => {\n        el.removeAttribute('x-cloak')\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('watch', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, `$watch('${value}', $value => ${expression})`)\n\n    setTimeout(() => {\n        evaluate()\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('init', (el, value, modifiers, expression, effect) => {\n    evaluate(el, expression, {}, false)\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('text', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    effect(() => {\n        evaluate()(value => {\n            el.textContent = value\n        })\n    })\n})\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('bind', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    // Ignore x-bind:key. (x-for will handle that)\n    if (value === 'key') return\n\n    effect(() => evaluate()(result => {\n        bind(el, value, result, modifiers)\n    }))\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { evaluate, evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('data', (el, value, modifiers, expression, effect) => {\n    expression = expression === '' ? '{}' : expression\n\n    let components = Alpine.components\n\n    let data = Object.keys(components).includes(expression)\n        ? components[expression]()\n        : evaluateSync(el, expression)\n\n    Alpine.injectMagics(data, el)\n\n    addScopeToNode(el, reactive(data))\n\n    if (data['init']) {\n        evaluateSync(el, data['init'].bind(data))\n    }\n\n    if (data['destroy']) {\n        Alpine.addDestroyCallback(el, () => {\n            evaluate(el, data['destroy'].bind(data))\n        })\n    }\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { closestDataStack } from '../utils/closest'\nimport { directivesByType } from '../utils/directives'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('for', (el, value, modifiers, expression, effect) => {\n    let iteratorNames = parseForExpression(expression)\n\n    let evaluateItems = evaluator(el, iteratorNames.items)\n    let evaluateKey = evaluatorSync(el,\n        // Look for a :key=\"...\" expression\n        directivesByType(el, 'bind').filter(attribute => attribute.value === 'key')[0]?.expression\n        // Otherwise, use \"index\"\n        || 'index'\n    )\n\n    effect(() => {\n        loop(el, iteratorNames, evaluateItems, evaluateKey)\n    })\n})\n\nfunction loop(el, iteratorNames, evaluateItems, evaluateKey) {\n    let templateEl = el\n\n    evaluateItems()(items => {\n        // This adds support for the `i in n` syntax.\n        if (isNumeric(items) && items > 0) {\n            items = Array.from(Array(items).keys(), i => i + 1)\n        }\n\n        let oldThings = templateEl._x_old_things || []\n\n        let things = items.map((item, index) => {\n            let scope = getIterationScopeVariables(iteratorNames, item, index, items)\n\n            let key = evaluateKey({ index, ...scope })\n\n            let element = oldThings.find(i => i.key === key)?.element\n\n            if (element) {\n                // Refresh the scope in case it was overwritten rather than mutated.\n                let existingScope = Array.from(element._x_dataStack).slice(-1)[0]\n\n                Object.entries(scope).forEach(([key, value]) => {\n                    existingScope[key] = value\n                })\n            } else {\n                let clone = document.importNode(templateEl.content, true).firstElementChild\n\n                addScopeToNode(clone, reactive(scope), templateEl)\n\n                element = clone\n            }\n\n            return { key, scope, element, remove() { element.remove() } }\n        })\n\n        let unusedThings = oldThings.filter(i => ! things.map(i => i.key).includes(i.key))\n\n        unusedThings.forEach(thing => thing.remove())\n\n        templateEl._x_old_things = things\n\n        templateEl.after(...things.map(i => i.element))\n    })\n}\n\nfunction _loop(el, iteratorNames, evaluateItems, evaluateKey) {\n    let templateEl = el\n\n    evaluateItems()(items => {\n        let closestParentContext = closestDataStack(el)\n\n        // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n        let currentEl = templateEl\n        items.forEach((item, index) => {\n            let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items)\n\n            let currentKey = evaluateKey({ index, ...iterationScopeVariables })\n\n            let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey)\n\n            // If we haven't found a matching key, insert the element at the current position.\n            if (! nextEl) {\n                nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl)\n\n                addScopeToNode(nextEl, reactive(iterationScopeVariables))\n\n                nextEl._x_for = iterationScopeVariables\n            }\n\n            // Refresh scope\n            console.log('refreshed')\n            Object.entries(iterationScopeVariables).forEach(([key, value]) => {\n                Array.from(nextEl._x_dataStack).slice(-1)[0][key] = value\n            })\n\n            currentEl = nextEl\n            currentEl._x_for_key = currentKey\n        })\n\n        removeAnyLeftOverElementsFromPreviousUpdate(currentEl)\n    })\n}\n\n// This was taken from VueJS 2.* core. Thanks Vue!\nfunction parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\n    let stripParensRE = /^\\(|\\)$/g\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\n    let inMatch = expression.match(forAliasRE)\n    if (! inMatch) return\n    let res = {}\n    res.items = inMatch[2].trim()\n    let item = inMatch[1].trim().replace(stripParensRE, '')\n    let iteratorMatch = item.match(forIteratorRE)\n\n    if (iteratorMatch) {\n        res.item = item.replace(forIteratorRE, '').trim()\n        res.index = iteratorMatch[1].trim()\n\n        if (iteratorMatch[2]) {\n            res.collection = iteratorMatch[2].trim()\n        }\n    } else {\n        res.item = item\n    }\n    return res\n}\n\nfunction getIterationScopeVariables(iteratorNames, item, index, items) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = {}\n\n    scopeVariables[iteratorNames.item] = item\n\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index\n\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items\n\n    return scopeVariables\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nlet handler = function (el, value, modifiers, expression, effect, before) {\n    let theRoot = root(el)\n\n    if (! theRoot._x_refs) theRoot._x_refs = {}\n\n    theRoot._x_refs[expression] = el\n}\n\nhandler.immediate = true\n\nAlpine.directive('ref', handler)\n","import Alpine from '../alpine'\nimport { effect } from '../reactivity'\nimport scheduler from '../scheduler'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('if', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    let show = () => {\n        let clonedFragment = el.content.cloneNode(true)\n\n        let first = clonedFragment.firstChild\n        let last = clonedFragment.lastChild\n\n        el.after(clonedFragment)\n\n        let range = document.createRange()\n        first && range.setStartBefore(first)\n        last && range.setEndAfter(last)\n\n        el._x_undoIf = () => range.deleteContents()\n    }\n\n    let hide = () => el._x_undoIf?.() || delete el._x_undoIf\n\n    effect(() => evaluate()(result => result ? show() : hide()))\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('on', (el, value, modifiers, expression) => {\n    let evaluate = evaluator(el, expression, {}, false)\n\n    let removeListener = on(el, value, modifiers, e => {\n        evaluate({ '$event': e })\n    })\n\n    Alpine.addDestroyCallback(el, removeListener)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.magic('nextTick', el => callback => scheduler.nextTick(callback))\n","import Alpine from '../alpine'\n\nAlpine.magic('dispatch', el => {\n    return (event, detail = {}) => {\n        return el._x_dispatch(event, detail)\n    }\n})\n\nwindow.Element.prototype._x_dispatch = function(event, detail = {}) {\n    this.dispatchEvent(new CustomEvent(event, {\n        detail,\n        bubbles: true,\n        // Allows events to pass the shadow DOM barrier.\n        composed: true,\n    }))\n}\n","import Alpine from '../alpine'\nimport { pauseTracking, enableTracking } from './../reactivity'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.magic('watch', el => {\n    return (key, callback) => {\n        let evaluate = evaluator(el, key)\n\n        let firstTime = true\n\n        let effect = Alpine.effect(() => evaluate()(value => {\n            // This is a hack to force deep reactivity for things like \"items.push()\"\n            let div = document.createElement('div')\n            div.dataset.hey = value\n\n            if (! firstTime) {\n                // Stop reactivity while running the watcher.\n                pauseTracking()\n\n                callback(value)\n\n                enableTracking()\n            }\n\n            firstTime = false\n        }))\n    }\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('store', () => {\n    return name => Alpine.getStore(name)\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('root', el => root(el))\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('refs', el => root(el)._x_refs || {})\n","import Alpine from '../alpine'\n\nAlpine.magic('el', el => el)\n","\nimport Alpine from './alpine'\n\n/**\n * Register Directives\n */\nimport './directives/x-transition'\n// import './directives/x-intersect'\nimport './directives/x-element'\nimport './directives/x-provide'\nimport './directives/x-destroy'\nimport './directives/x-spread'\nimport './directives/x-scope'\nimport './directives/x-model'\nimport './directives/x-cloak'\n// import './directives/x-morph'\nimport './directives/x-watch'\nimport './directives/x-init'\nimport './directives/x-text'\nimport './directives/x-bind'\nimport './directives/x-data'\nimport './directives/x-show'\nimport './directives/x-for'\nimport './directives/x-ref'\nimport './directives/x-if'\nimport './directives/x-on'\n\n/**\n * Register Magics\n */\nimport './magics/$nextTick'\nimport './magics/$dispatch'\nimport './magics/$watch'\nimport './magics/$store'\n// import './magics/$morph'\nimport './magics/$root'\nimport './magics/$refs'\nimport './magics/$el'\n\n/**\n * Start It Up\n */\nwindow.Alpine = Alpine\n\nAlpine.start()\n"],"names":["tasks","lowPriorityTasks","nextTicks","shouldFlush","ignore","callback","this","task","push","shouldFlushAtEndOfRequest","nextTick","holdNextTicks","holdNextTicksOver","releaseNextTicks","length","shift","queueMicrotask","flush","flushImmediately","setTimeout","performance","now","navigator","_navigator","scheduling","_navigator$scheduling","isInputPending","bind","t","n","Object","assign","r","prototype","hasOwnProperty","s","e","call","i","Array","isArray","o","f","u","a","l","toString","h","parseInt","_","v","WeakMap","d","p","g","Symbol","y","w","_isEffect","raw","active","scheduler","includes","deps","delete","S","j","pop","O","id","b","allowRecurse","options","lazy","k","E","m","P","get","set","Map","Set","has","add","x","c","forEach","z","getOwnPropertyNames","map","filter","M","I","A","W","N","V","lt","at","Reflect","kt","value","vt","ht","K","Rt","Number","apply","B","deleteProperty","ownKeys","q","F","G","H","J","getPrototypeOf","L","__v_raw","Q","T","U","X","Y","Z","size","clear","$","tt","iterator","[object Object]","done","next","et","nt","rt","st","it","ot","ut","__v_isReadonly","pt","__v_isReactive","__v_skip","isExtensible","slice","ft","Proxy","Boolean","__v_isRef","directives","el","attributes","attributeNamesAndValues","from","attr","name","addAttributes","interceptors","startsWith","replace","reduce","carry","interceptor","interceptNameAndValue","directiveOrder","sort","typeA","indexOf","type","typeB","sortDirectives","isXAttr","parseHtmlAttribute","xAttrRE","test","typeMatch","match","valueMatch","modifiers","expression","root","hasAttribute","parentElement","closestDataStack","node","_x_dataStack","ShadowRoot","host","parentNode","Alpine","reactive","syncEffect","effect","defineProperty","configurable","enumerable","toRaw","skipEffects","effectSync","magics","components","directive","magic","component","stores","store","object","getStore","injectMagics","obj","entries","start","document","dispatchEvent","CustomEvent","bubbles","listenForAndReactToDomManipulations","querySelector","querySelectorAll","initTree","console","log","children","child","walk","init","handler","destroyCallbacks","addDestroyCallback","destroyTree","destroy","callbacks","rootElement","MutationObserver","mutations","mutation","addedNodes","nodeType","_x_ignoreMutationObserver","removedNodes","observe","subtree","childList","deep","skip","firstElementChild","nextElementSibling","setClasses","classString","subject","classes","String","warn","split","classList","contains","missingClasses","remove","transitionClasses","during","end","before","after","undoStart","undoDuring","undoEnd","_x_transitioning","cancel","performTransition","cleanup","transitionStyles","setStyles","styleObject","previousStyles","key","style","stages","finish","once","isConnected","beforeCancels","beforeCancel","requestAnimationFrame","duration","getComputedStyle","transitionDuration","animationDuration","called","arguments","modifierValue","fallback","rawValue","isNumeric","join","evaluator","extras","returns","dataStack","closeExtras","reversedDataStack","concat","reverse","AsyncFunction","async","constructor","mergedObject","objects","target","find","keys","closestObjectWithKey","mergeProxies","expressionWithContext","args","result","Promise","receiver","then","names","data","index","withExpression","current","namesWithPlaceholderAndDefault","tryCatch","func","undefined","finished","promise","boundEvaluator","evaluatorSync","evaluate","evaluateSync","message","addScopeToNode","referenceNode","closestCustomElementRoot","_x_customElementRoot","_x_bindings","toLowerCase","char","toUpperCase","window","fromModel","checked","checkedAttrLooseCompare","isInteger","some","val","tagName","arrayWrappedValue","option","selected","updateSelect","bindInputValue","_x_undoAddedClasses","classObject","forAdd","flatMap","bool","forRemove","added","removed","toggleClasses","bindClasses","removeAttribute","setIfChanged","bindAttribute","attrName","getAttribute","setAttribute","valueA","valueB","on","event","passive","offsetWidth","offsetHeight","removeEventListener","addEventListener","addAwayListener","listenerTarget","isKeyEvent","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","nextModifier","wait","timeout","context","later","clearTimeout","debounce","limit","inThrottle","throttle","isNaN","safeParseNumber","number","parseFloat","closestHide","parent","_x_do_hide","_x_transition","enter","leave","in","out","enter-start","enter-end","leave-start","leave-end","template","customElements","define","HTMLElement","super","props","_x_defaultProps","_x_template","registerElement","defaultProps","element","htmlOrTemplate","createRange","createContextualFragment","content","cloneNode","injectData","reactiveRoot","trim","injectName","getClosestProvides","_x_provides","provides","generateInjectDataObject","getProps","to","propName","froms","tos","attribute","transferAttributes","slot","scope","scopeName","childNodes","replaceWith","spreadObject","evaluateAssignment","assigmentFunction","currentValue","detail","newValue","multiple","selectedOptions","text","generateAssignmentFunction","$event","rightSideOfExpression","_x_forceModelUpdate","activeElement","isSameNode","textContent","hide","display","_x_is_shown","show","removeProperty","doesntSpecify","transitioningIn","transitioningOut","transitionOrigin","transitionProperty","transitionTimingFunction","opacity","transform","registerTranstions","isFirstRun","toggleImmediately","resolve","reject","isFromCancelledTransition","closest","_x_hide_child","hidePromises","promiseChain","doHide","catch","toggleWithTransitions","iteratorNames","forIteratorRE","inMatch","res","items","item","iteratorMatch","collection","parseForExpression","evaluateItems","evaluateKey","directivesByType","templateEl","oldThings","_x_old_things","things","scopeVariables","getIterationScopeVariables","_oldThings$find","existingScope","clone","importNode","thing","loop","theRoot","_x_refs","immediate","clonedFragment","first","firstChild","last","lastChild","range","setStartBefore","setEndAfter","_x_undoIf","deleteContents","removeListener","_x_dispatch","Element","composed","firstTime","createElement","dataset","hey","pauseTracking","enableTracking"],"mappings":"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"}