{"version":3,"file":"alpine.modern.js","sources":["../src/scheduler.js","../node_modules/@vue/reactivity/dist/reactivity.esm-browser.prod.js","../src/utils/directives.js","../src/utils/root.js","../src/utils/closest.js","../src/alpine.js","../src/utils/classes.js","../src/directives/x-transition.js","../src/utils/evaluate.js","../src/utils/mergeProxies.js","../src/scope.js","../src/directives/x-provide.js","../src/utils/bind.js","../src/utils/on.js","../src/directives/x-model.js","../src/directives/x-show.js","../src/directives/x-element.js","../src/directives/x-destroy.js","../src/directives/x-spread.js","../src/directives/x-scope.js","../src/directives/x-cloak.js","../src/directives/x-watch.js","../src/directives/x-init.js","../src/directives/x-text.js","../src/directives/x-bind.js","../src/directives/x-data.js","../src/directives/x-for.js","../src/directives/x-ref.js","../src/directives/x-if.js","../src/directives/x-on.js","../src/magics/$nextTick.js","../src/magics/$dispatch.js","../src/magics/$watch.js","../src/magics/$store.js","../src/magics/$root.js","../src/magics/$refs.js","../src/magics/$el.js","../src/index.js"],"sourcesContent":["\nexport default {\n    tasks: [],\n    lowPriorityTasks: [],\n    nextTicks: [],\n    shouldFlush: false,\n    ignore: false,\n\n    ignore(callback) {\n        this.ignore = true\n        callback()\n        this.ignore = false\n    },\n\n    task(callback) {\n        if (this.ignore === true) return\n\n        this.tasks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    nextTick(callback) {\n        this.nextTicks.push(callback)\n        this.shouldFlushAtEndOfRequest()\n    },\n\n    holdNextTicks() {\n        this.holdNextTicksOver = true\n    },\n\n    releaseNextTicks() {\n        while (this.nextTicks.length > 0) {\n            this.nextTicks.shift()()\n        }\n\n        this.holdNextTicksOver = false\n    },\n\n    shouldFlushAtEndOfRequest() {\n        this.shouldFlush = true\n\n        queueMicrotask(() => {\n            if (this.shouldFlush) this.flush()\n\n            this.shouldFlush = false\n        })\n    },\n\n    flushImmediately() {\n        while (this.tasks.length > 0) this.tasks.shift()()\n\n        if (! this.holdNextTicksOver) while (this.nextTicks.length > 0) this.nextTicks.shift()()\n\n    },\n\n    flush() {\n        setTimeout(() => {\n            let DEADLINE = performance.now() + 80\n\n            while (this.tasks.length > 0) {\n                //  || performance.now() >= DEADLINE\n                if (navigator?.scheduling?.isInputPending()) {\n                    // Yield if we have to handle an input event, or we're out of time.\n                    setTimeout(this.flush.bind(this))\n                    return;\n                }\n\n                this.tasks.shift()()\n            }\n\n            if (! this.holdNextTicksOver) {\n                setTimeout(() => {\n                    // Flush anything added by $nextTick\n                    while (this.nextTicks.length > 0) {\n                        this.nextTicks.shift()()\n                    }\n                })\n            }\n        })\n    }\n}\n","const t={},e=()=>{},n=Object.assign,r=Object.prototype.hasOwnProperty,s=(t,e)=>r.call(t,e),i=Array.isArray,o=t=>\"[object Map]\"===f(t),c=t=>\"function\"==typeof t,u=t=>\"symbol\"==typeof t,a=t=>null!==t&&\"object\"==typeof t,l=Object.prototype.toString,f=t=>l.call(t),h=t=>\"string\"==typeof t&&\"NaN\"!==t&&\"-\"!==t[0]&&\"\"+parseInt(t,10)===t,_=(t,e)=>t!==e&&(t==t||e==e),v=new WeakMap,d=[];let p;const g=Symbol(\"\"),y=Symbol(\"\");function w(e,n=t){(function(t){return t&&!0===t._isEffect})(e)&&(e=e.raw);const r=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!d.includes(n)){S(n);try{return j(),d.push(n),p=n,t()}finally{d.pop(),O(),p=d[d.length-1]}}};return n.id=b++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(e,n);return n.lazy||r(),r}function R(t){t.active&&(S(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let b=0;function S(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let k=!0;const E=[];function m(){E.push(k),k=!1}function j(){E.push(k),k=!0}function O(){const t=E.pop();k=void 0===t||t}function P(t,e,n){if(!k||void 0===p)return;let r=v.get(t);r||v.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(p)||(s.add(p),p.deps.push(s))}function x(t,e,n,r,s,c){const u=v.get(t);if(!u)return;const a=new Set,l=t=>{t&&t.forEach(t=>{(t!==p||t.allowRecurse)&&a.add(t)})};if(\"clear\"===e)u.forEach(l);else if(\"length\"===n&&i(t))u.forEach((t,e)=>{(\"length\"===e||e>=r)&&l(t)});else switch(void 0!==n&&l(u.get(n)),e){case\"add\":i(t)?h(n)&&l(u.get(\"length\")):(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"delete\":i(t)||(l(u.get(g)),o(t)&&l(u.get(y)));break;case\"set\":o(t)&&l(u.get(g))}a.forEach(t=>{t.options.scheduler?t.options.scheduler(t):t()})}const z=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(u)),M=I(),A=I(!1,!0),W=I(!0),N=I(!0,!0),V={};function I(t=!1,e=!1){return function(n,r,o){if(\"__v_isReactive\"===r)return!t;if(\"__v_isReadonly\"===r)return t;if(\"__v_raw\"===r&&o===(t?lt:at).get(n))return n;const c=i(n);if(!t&&c&&s(V,r))return Reflect.get(V,r,o);const l=Reflect.get(n,r,o);if(u(r)?z.has(r):\"__proto__\"===r||\"__v_isRef\"===r)return l;if(t||P(n,0,r),e)return l;if(kt(l)){return!c||!h(r)?l.value:l}return a(l)?t?vt(l):ht(l):l}}[\"includes\",\"indexOf\",\"lastIndexOf\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){const n=Rt(this);for(let e=0,s=this.length;e<s;e++)P(n,0,e+\"\");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Rt)):r}}),[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\"].forEach(t=>{const e=Array.prototype[t];V[t]=function(...t){m();const n=e.apply(this,t);return O(),n}});function K(t=!1){return function(e,n,r,o){const c=e[n];if(!t&&(r=Rt(r),!i(e)&&kt(c)&&!kt(r)))return c.value=r,!0;const u=i(e)&&h(n)?Number(n)<e.length:s(e,n),a=Reflect.set(e,n,r,o);return e===Rt(o)&&(u?_(r,c)&&x(e,\"set\",n,r):x(e,\"add\",n,r)),a}}const B={get:M,set:K(),deleteProperty:function(t,e){const n=s(t,e),r=Reflect.deleteProperty(t,e);return r&&n&&x(t,\"delete\",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return u(e)&&z.has(e)||P(t,0,e),n},ownKeys:function(t){return P(t,0,i(t)?\"length\":g),Reflect.ownKeys(t)}},q={get:W,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},C=n({},B,{get:A,set:K(!0)}),D=n({},q,{get:N}),F=t=>a(t)?ht(t):t,G=t=>a(t)?vt(t):t,H=t=>t,J=t=>Reflect.getPrototypeOf(t);function L(t,e,n=!1,r=!1){const s=Rt(t=t.__v_raw),i=Rt(e);e!==i&&!n&&P(s,0,e),!n&&P(s,0,i);const{has:o}=J(s),c=n?G:r?H:F;return o.call(s,e)?c(t.get(e)):o.call(s,i)?c(t.get(i)):void 0}function Q(t,e=!1){const n=this.__v_raw,r=Rt(n),s=Rt(t);return t!==s&&!e&&P(r,0,t),!e&&P(r,0,s),t===s?n.has(t):n.has(t)||n.has(s)}function T(t,e=!1){return t=t.__v_raw,!e&&P(Rt(t),0,g),Reflect.get(t,\"size\",t)}function U(t){t=Rt(t);const e=Rt(this),n=J(e).has.call(e,t);return e.add(t),n||x(e,\"add\",t,t),this}function X(t,e){e=Rt(e);const n=Rt(this),{has:r,get:s}=J(n);let i=r.call(n,t);i||(t=Rt(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?_(e,o)&&x(n,\"set\",t,e):x(n,\"add\",t,e),this}function Y(t){const e=Rt(this),{has:n,get:r}=J(e);let s=n.call(e,t);s||(t=Rt(t),s=n.call(e,t));r&&r.call(e,t);const i=e.delete(t);return s&&x(e,\"delete\",t,void 0),i}function Z(){const t=Rt(this),e=0!==t.size,n=t.clear();return e&&x(t,\"clear\",void 0,void 0),n}function $(t,e){return function(n,r){const s=this,i=s.__v_raw,o=Rt(i),c=t?G:e?H:F;return!t&&P(o,0,g),i.forEach((t,e)=>n.call(r,c(t),c(e),s))}}function tt(t,e,n){return function(...r){const s=this.__v_raw,i=Rt(s),c=o(i),u=\"entries\"===t||t===Symbol.iterator&&c,a=\"keys\"===t&&c,l=s[t](...r),f=e?G:n?H:F;return!e&&P(i,0,a?y:g),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:u?[f(t[0]),f(t[1])]:f(t),done:e}},[Symbol.iterator](){return this}}}}function et(t){return function(...e){return\"delete\"!==t&&this}}const nt={get(t){return L(this,t)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!1)},rt={get(t){return L(this,t,!1,!0)},get size(){return T(this)},has:Q,add:U,set:X,delete:Y,clear:Z,forEach:$(!1,!0)},st={get(t){return L(this,t,!0)},get size(){return T(this,!0)},has(t){return Q.call(this,t,!0)},add:et(\"add\"),set:et(\"set\"),delete:et(\"delete\"),clear:et(\"clear\"),forEach:$(!0,!1)};function it(t,e){const n=e?rt:t?st:nt;return(e,r,i)=>\"__v_isReactive\"===r?!t:\"__v_isReadonly\"===r?t:\"__v_raw\"===r?e:Reflect.get(s(n,r)&&r in e?n:e,r,i)}[\"keys\",\"values\",\"entries\",Symbol.iterator].forEach(t=>{nt[t]=tt(t,!1,!1),st[t]=tt(t,!0,!1),rt[t]=tt(t,!1,!0)});const ot={get:it(!1,!1)},ct={get:it(!1,!0)},ut={get:it(!0,!1)},at=new WeakMap,lt=new WeakMap;function ft(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case\"Object\":case\"Array\":return 1;case\"Map\":case\"Set\":case\"WeakMap\":case\"WeakSet\":return 2;default:return 0}}((t=>f(t).slice(8,-1))(t))}function ht(t){return t&&t.__v_isReadonly?t:pt(t,!1,B,ot)}function _t(t){return pt(t,!1,C,ct)}function vt(t){return pt(t,!0,q,ut)}function dt(t){return pt(t,!0,D,ut)}function pt(t,e,n,r){if(!a(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=e?lt:at,i=s.get(t);if(i)return i;const o=ft(t);if(0===o)return t;const c=new Proxy(t,2===o?r:n);return s.set(t,c),c}function gt(t){return yt(t)?gt(t.__v_raw):!(!t||!t.__v_isReactive)}function yt(t){return!(!t||!t.__v_isReadonly)}function wt(t){return gt(t)||yt(t)}function Rt(t){return t&&Rt(t.__v_raw)||t}function bt(t){return((t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})})(t,\"__v_skip\",!0),t}const St=t=>a(t)?ht(t):t;function kt(t){return Boolean(t&&!0===t.__v_isRef)}function Et(t){return Ot(t)}function mt(t){return Ot(t,!0)}class jt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:St(t)}get value(){return P(Rt(this),0,\"value\"),this._value}set value(t){_(Rt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:St(t),x(Rt(this),\"set\",\"value\",t))}}function Ot(t,e=!1){return kt(t)?t:new jt(t,e)}function Pt(t){x(Rt(t),\"set\",\"value\",void 0)}function xt(t){return kt(t)?t.value:t}const zt={get:(t,e,n)=>xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Mt(t){return gt(t)?t:new Proxy(t,zt)}class At{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t(()=>P(this,0,\"value\"),()=>x(this,\"set\",\"value\"));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Wt(t){return new At(t)}function Nt(t){const e=i(t)?new Array(t.length):{};for(const n in t)e[n]=It(t,n);return e}class Vt{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function It(t,e){return kt(t[e])?t[e]:new Vt(t,e)}class Kt{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=w(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,x(Rt(this),\"set\",\"value\"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),P(Rt(this),0,\"value\"),this._value}set value(t){this._setter(t)}}function Bt(t){let n,r;return c(t)?(n=t,r=e):(n=t.get,r=t.set),new Kt(n,r,c(t)||!t.set)}export{g as ITERATE_KEY,Bt as computed,Wt as customRef,w as effect,j as enableTracking,wt as isProxy,gt as isReactive,yt as isReadonly,kt as isRef,bt as markRaw,m as pauseTracking,Mt as proxyRefs,ht as reactive,vt as readonly,Et as ref,O as resetTracking,_t as shallowReactive,dt as shallowReadonly,mt as shallowRef,R as stop,Rt as toRaw,It as toRef,Nt as toRefs,P as track,x as trigger,Pt as triggerRef,xt as unref};\n","\nexport function directives(el, attributes) {\n    let attributeNamesAndValues = attributes || Array.from(el.attributes).map(attr => ({name: attr.name, value: attr.value}))\n\n    attributeNamesAndValues = attributeNamesAndValues.map(({name, value}) => interceptNameAndValue({ name, value}))\n\n    let directives = attributeNamesAndValues.filter(isXAttr).map(parseHtmlAttribute)\n\n    return sortDirectives(directives)\n}\n\nexport function directivesByType(el, type) {\n    return directives(el).filter(attribute => attribute.type === type)\n}\n\nexport function directiveByType(el, type) {\n    return directivesByType(el, type)[0]\n}\n\nlet xAttrRE = /^x-([^:^.]+)\\b/\n\nfunction isXAttr({ name, value }) {\n    return xAttrRE.test(name)\n}\n\nfunction sortDirectives(directives) {\n    let directiveOrder = ['data', 'spread', 'ref', 'init', 'bind', 'for', 'model', 'transition', 'show', 'catch-all', 'element']\n\n    return directives.sort((a, b) => {\n        let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type\n        let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type\n\n        return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB)\n    })\n}\n\nfunction parseHtmlAttribute({ name, value }) {\n    const typeMatch = name.match(xAttrRE)\n    const valueMatch = name.match(/:([a-zA-Z0-9\\-:]+)/)\n    const modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || []\n\n    return {\n        type: typeMatch ? typeMatch[1] : null,\n        value: valueMatch ? valueMatch[1] : null,\n        modifiers: modifiers.map(i => i.replace('.', '')),\n        expression: value,\n    }\n}\n\nlet interceptors = []\n\nfunction interceptNameAndValue({ name, value }, addAttributes) {\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith('@')) name = name.replace('@', 'x-on:')\n\n        return { name, value }\n    })\n\n    interceptors.push(({ name, value }) => {\n        if (name.startsWith(':')) name = name.replace(':', 'x-bind:')\n\n        return { name,  value }\n    })\n\n    return interceptors.reduce((carry, interceptor) => {\n        return interceptor(carry, addAttributes)\n    }, { name, value })\n}\n","\nexport function root(el) {\n    if (el.hasAttribute('x-data') || el.hasAttribute('x-data.append')) return el\n\n    if (! el.parentElement) return\n\n    return root(el.parentElement)\n}\n","import mergeProxies from './mergeProxies'\n\nexport function closestDataStack(node) {\n    if (node._x_dataStack) return node._x_dataStack\n\n    if (node instanceof ShadowRoot) {\n        return closestDataStack(node.host)\n    }\n\n    if (! node.parentNode) {\n        return new Set\n    }\n\n    return closestDataStack(node.parentNode)\n}\n\nexport function closestDataProxy(el) {\n    return mergeProxies(...closestDataStack(el))\n}\n","import scheduler from './scheduler.js'\nimport { reactive, effect, markRaw, toRaw, pauseTracking, enableTracking } from './reactivity'\nimport { directiveByType, directives } from './utils/directives'\nimport { root } from './utils/root.js'\nimport { closestDataStack } from './utils/closest.js'\n\nlet Alpine = {\n    reactive,\n    syncEffect: effect,\n\n    markRaw,\n    toRaw,\n\n    scheduler,\n\n    get effect() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            // }, {\n            //     scheduler(run) {\n            //         scheduler.task(run)\n            //     }\n            })\n        }\n    },\n\n    get effectSync() {\n        if (this.skipEffects) return () => {}\n\n        return callback => {\n            return effect(() => {\n                callback()\n            })\n        }\n    },\n\n    directives: {},\n\n    magics: {},\n\n    components: {},\n\n\n    directive(name, callback) {\n        this.directives[name] = callback\n    },\n\n    magic(name, callback) {\n        this.magics[name] = callback\n    },\n\n    component(name, callback) {\n        this.components[name] = callback\n    },\n\n    stores: {},\n\n    store(name, object) {\n        this.stores[name] = this.reactive(object)\n    },\n\n    getStore(name) {\n        return this.stores[name]\n    },\n\n    injectMagics(obj, el) {\n        Object.entries(this.magics).forEach(([name, callback]) => {\n            Object.defineProperty(obj, `$${name}`, {\n                get() { return callback(el) },\n                enumerable: true,\n            })\n        })\n    },\n\n    start() {\n        document.dispatchEvent(new CustomEvent('alpine:initializing'), { bubbles: true })\n\n        this.listenForAndReactToDomManipulations(document.querySelector('body'))\n\n        let outNestedComponents = el => ! root(el.parentNode || root(el))\n\n        Array.from(document.querySelectorAll('[x-data], [x-data\\\\.append]'))\n            .filter(outNestedComponents)\n            .forEach(el => this.initTree(el))\n\n        document.dispatchEvent(new CustomEvent('alpine:initialized'), { bubbles: true })\n    },\n\n    // copyTree(originalEl, newEl) {\n    //     newEl._x_data = originalEl._x_data\n    //     newEl._x_$data = this.reactive(originalEl._x_data)\n    //     newEl._x_dataStack = originalEl._x_dataStack\n    //     newEl._x_dataStack = new Set(closestDataStack(originalEl))\n    //     newEl._x_dataStack.add(newEl._x_$data)\n\n    //     let root = true\n\n    //     this.walk(newEl, (el, skipSubTree) => {\n    //         if (! root && !! directiveByType(el, 'data')) return skipSubTree()\n\n    //         root = false\n\n    //         this.init(el, false)\n    //     })\n\n    //     // @todo: why is this here, why does this break Livewire reactivity?\n    //     // this.skipEffects = true\n    //     this.scheduler.flushImmediately()\n    //     // delete this.skipEffects\n    // },\n\n    initTree(root) {\n        if (root instanceof ShadowRoot) {\n            Array.from(root.children).forEach(child => this.walk(child, el => this.init(el)))\n        } else {\n            this.walk(root, el => this.init(el))\n        }\n\n        this.scheduler.flush()\n    },\n\n    init(el, attributes) {\n        (attributes || directives(el)).forEach(attr => {\n            let noop = () => {}\n            let handler = Alpine.directives[attr.type] || noop\n\n            // Run \"x-ref/data/spread\" on the initial sweep.\n            // let task = handler.immediate\n            //     ? callback => callback()\n            //     : this.scheduler.task.bind(this.scheduler)\n            let task = callback => callback()\n\n            task(() => {\n                handler(el, attr.value, attr.modifiers, attr.expression, Alpine.effect)\n            })\n        })\n    },\n\n    destroyCallbacks: new WeakMap,\n\n    addDestroyCallback(el, callback) {\n        if (! this.destroyCallbacks.get(el)) {\n            this.destroyCallbacks.set(el, [])\n        }\n\n        this.destroyCallbacks.get(el).push(callback)\n    },\n\n    destroyTree(root) {\n        this.walk(root, el => this.destroy(el))\n\n        this.scheduler.flush()\n    },\n\n    destroy(el) {\n        let callbacks = this.destroyCallbacks.get(el)\n\n        callbacks && callbacks.forEach(callback => callback())\n    },\n\n    listenForAndReactToDomManipulations(rootElement) {\n        let observer = new MutationObserver(mutations => {\n            for(let mutation of mutations) {\n                if (mutation.type !== 'childList') continue\n\n                for(let node of mutation.addedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    if (node._x_ignoreMutationObserver) continue\n\n                    this.initTree(node)\n                }\n\n                for(let node of mutation.removedNodes) {\n                    if (node.nodeType !== 1) continue\n\n                    // Don't block execution for destroy callbacks.\n                    scheduler.nextTick(() => {\n                        this.destroyTree(node)\n                    })\n                }\n            }\n        })\n\n        observer.observe(rootElement, { subtree: true, childList: true, deep: false })\n    },\n\n    walk(el, callback) {\n        let skip = false\n        callback(el, () => skip = true)\n        if (skip) return\n\n        let node = el.firstElementChild\n\n        while (node) {\n            this.walk(node, callback, false)\n\n            node = node.nextElementSibling\n        }\n    },\n}\n\nexport default Alpine\n","\nexport function setClasses(el, classString) {\n    let isInvalidType = subject => (typeof subject === 'object' && ! subject instanceof String) || Array.isArray(subject)\n\n    if (isInvalidType(classString)) console.warn('Alpine: class bindings must return a string or a stringable type. Arrays and Objects are no longer supported.')\n\n    // This is to allow short ifs like: :class=\"show || 'hidden'\"\n    if (classString === true) classString = ''\n\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let missingClasses = classString => classString.split(' ').filter(i => ! el.classList.contains(i)).filter(Boolean)\n\n    let addClassesAndReturnUndo = classes => {\n        el.classList.add(...classes)\n\n        return () => { el.classList.remove(...classes) }\n    }\n\n    return addClassesAndReturnUndo(missingClasses(classString || ''))\n}\n\nexport function toggleClasses(el, classObject) {\n    let split = classString => classString.split(' ').filter(Boolean)\n\n    let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean)\n    let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => ! bool ? split(classString) : false).filter(Boolean)\n\n    let added = []\n    let removed = []\n\n    forAdd.forEach(i => {\n        if (! el.classList.contains(i)) {\n            el.classList.add(i)\n            added.push(i)\n        }\n    })\n\n    forRemove.forEach(i => {\n        if (el.classList.contains(i)) {\n            el.classList.remove(i)\n            removed.push(i)\n        }\n    })\n\n    return () => {\n        added.forEach(i => el.classList.remove(i))\n        removed.forEach(i => el.classList.add(i))\n    }\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { setClasses } from '../utils/classes'\n\nlet handler = (el, value, modifiers, expression, effect) => {\n    if (! el._x_transition) {\n        el._x_transition = {\n            enter: { during: '', start: '', end: '' },\n\n            leave: { during: '', start: '', end: '' },\n\n            in(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.enter.during,\n                    start: this.enter.start,\n                    end: this.enter.end,\n                }, before, after)\n            },\n\n            out(before = () => {}, after = () => {}) {\n                return transitionClasses(el, {\n                    during: this.leave.during,\n                    start: this.leave.start,\n                    end: this.leave.end,\n                }, before, after)\n            }\n        }\n    }\n\n    let directiveStorageMap = {\n        'enter': (classes) => { el._x_transition.enter.during = classes },\n        'enter-start': (classes) => { el._x_transition.enter.start = classes },\n        'enter-end': (classes) => { el._x_transition.enter.end = classes },\n        'leave': (classes) => { el._x_transition.leave.during = classes },\n        'leave-start': (classes) => { el._x_transition.leave.start = classes },\n        'leave-end': (classes) => { el._x_transition.leave.end = classes },\n    }\n\n    directiveStorageMap[value](expression)\n}\n\nAlpine.directive('transition', handler)\n\nexport function transitionClasses(el, { during = '', start = '', end = '' } = {}, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setClasses(el, start)\n        },\n        during() {\n            undoDuring = setClasses(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setClasses(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nexport function registerTranstions(el, modifiers) {\n    el._x_transition = {\n        enter: { during: {}, start: {}, end: {} },\n\n        leave: { during: {}, start: {}, end: {} },\n\n        in(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.enter.during,\n                start: this.enter.start,\n                end: this.enter.end,\n            }, before, after)\n        },\n\n        out(before = () => {}, after = () => {}) {\n            return transitionStyles(el, {\n                during: this.leave.during,\n                start: this.leave.start,\n                end: this.leave.end,\n            }, before, after)\n        }\n    }\n\n    let doesntSpecify = ! modifiers.includes('in') && ! modifiers.includes('out')\n    let transitioningIn = doesntSpecify || modifiers.includes('in')\n    let transitioningOut = doesntSpecify || modifiers.includes('out')\n\n    if (modifiers.includes('in') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index < modifiers.indexOf('out'))\n    }\n\n    if (modifiers.includes('out') && ! doesntSpecify) {\n        modifiers = modifiers.filter((i, index) => index > modifiers.indexOf('out'))\n    }\n\n    if (transitioningIn) {\n        el._x_transition.enter.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${modifierValue(modifiers, 'duration', 150) / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.enter.start = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n\n        el._x_transition.enter.end = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n    }\n\n\n    if (transitioningOut) {\n        let duration = modifierValue(modifiers, 'duration', 150) / 2\n\n        el._x_transition.leave.during = {\n            transitionOrigin: modifierValue(modifiers, 'origin', 'center'),\n            transitionProperty: 'opacity, transform',\n            transitionDuration: `${duration / 1000}s`,\n            transitionTimingFunction: `cubic-bezier(0.4, 0.0, 0.2, 1)`,\n        }\n\n        el._x_transition.leave.start = {\n            opacity: 1,\n            transform: `scale(1)`,\n        }\n\n        el._x_transition.leave.end = {\n            opacity: 0,\n            transform: `scale(${modifierValue(modifiers, 'scale', 95) / 100})`,\n        }\n    }\n\n    return\n\n\n    let settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out')\n\n    // // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n    let inModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers\n\n    let outModifiers = settingBothSidesOfTransition\n        ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers\n\n\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n        el.__x_transition.cancel && el.__x_transition.cancel()\n    }\n\n    // If the user set these style values, we'll put them back when we're done with them.\n    let opacityCache = el.style.opacity\n    let transformCache = el.style.transform\n    let transformOriginCache = el.style.transformOrigin\n\n    // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n    let noModifiers = ! modifiers.includes('opacity') && ! modifiers.includes('scale')\n    let transitionOpacity = noModifiers || modifiers.includes('opacity')\n    let transitionScale = noModifiers || modifiers.includes('scale')\n\n    // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n    let stages = {\n        start() {\n            if (transitionOpacity) el.style.opacity = styleValues.first.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`\n        },\n        during() {\n            if (transitionScale) el.style.transformOrigin = styleValues.origin\n            el.style.transitionProperty = [(transitionOpacity ? `opacity` : ``), (transitionScale ? `transform` : ``)].join(' ').trim()\n            el.style.transitionDuration = `${styleValues.duration / 1000}s`\n            el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`\n        },\n        show() {\n            hook1()\n        },\n        end() {\n            if (transitionOpacity) el.style.opacity = styleValues.second.opacity\n            if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`\n        },\n        hide() {\n            hook2()\n        },\n        cleanup() {\n            if (transitionOpacity) el.style.opacity = opacityCache\n            if (transitionScale) el.style.transform = transformCache\n            if (transitionScale) el.style.transformOrigin = transformOriginCache\n            el.style.transitionProperty = null\n            el.style.transitionDuration = null\n            el.style.transitionTimingFunction = null\n        },\n    }\n}\n\nfunction transitionStyles(el, { during = {}, start = {}, end = {} }, before = () => {}, after = () => {}) {\n    if (el._x_transitioning) el._x_transitioning.cancel()\n\n    let undoStart, undoDuring, undoEnd\n\n    performTransition(el, {\n        start() {\n            undoStart = setStyles(el, start)\n        },\n        during() {\n            undoDuring = setStyles(el, during)\n        },\n        before,\n        end() {\n            undoStart()\n\n            undoEnd = setStyles(el, end)\n        },\n        after,\n        cleanup() {\n            undoDuring()\n            undoEnd()\n        },\n    })\n}\n\nfunction setStyles(el, styleObject) {\n    let previousStyles = {}\n\n    Object.entries(styleObject).forEach(([key, value]) => {\n        previousStyles[key] = el.style[key]\n\n        el.style[key] = value\n    })\n\n    return () => {\n        setStyles(el, previousStyles)\n    }\n}\n\nexport function performTransition(el, stages) {\n    let finish = once(() => {\n        stages.after()\n\n        // Adding an \"isConnected\" check, in case the callback removed the element from the DOM.\n        if (el.isConnected) stages.cleanup()\n\n        delete el._x_transitioning\n    })\n\n    el._x_transitioning = {\n        beforeCancels: [],\n        beforeCancel(callback) { this.beforeCancels.push(callback) },\n        cancel: once(function () { while (this.beforeCancels.length) { this.beforeCancels.shift()() }; finish(); }),\n        finish\n    }\n\n    stages.start()\n    stages.during()\n\n    scheduler.holdNextTicks()\n\n    requestAnimationFrame(() => {\n        // Note: Safari's transitionDuration property will list out comma separated transition durations\n        // for every single transition property. Let's grab the first one and call it a day.\n        let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000\n\n        if (duration === 0) {\n            duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000\n        }\n\n        stages.before()\n\n        requestAnimationFrame(() => {\n            stages.end()\n\n            scheduler.releaseNextTicks()\n\n            setTimeout(el._x_transitioning.finish, duration)\n        })\n    })\n}\n\nexport function once(callback) {\n    let called = false\n\n    return function () {\n        if (! called) {\n            called = true\n\n            callback.apply(this, arguments)\n        }\n    }\n}\n\nfunction modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback\n\n    // If it IS present, grab the value after it: x-show.transition.duration.500ms\n    const rawValue = modifiers[modifiers.indexOf(key) + 1]\n\n    if (! rawValue) return fallback\n\n    if (key === 'scale') {\n        // Check if the very next value is NOT a number and return the fallback.\n        // If x-show.transition.scale, we'll use the default scale value.\n        // That is how a user opts out of the opacity transition.\n        if (! isNumeric(rawValue)) return fallback\n    }\n\n    if (key === 'duration') {\n        // Support x-show.transition.duration.500ms && duration.500\n        let match = rawValue.match(/([0-9]+)ms/)\n        if (match) return match[1]\n    }\n\n    if (key === 'origin') {\n        // Support chaining origin directions: x-show.transition.top.right\n        if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n            return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ')\n        }\n    }\n\n    return rawValue\n}\n","import Alpine from '../alpine.js'\nimport mergeProxies from './mergeProxies'\nimport { closestDataStack } from './closest'\n\nexport function evaluator(el, expression, extras = {}, returns = true) {\n    // Ok, gear up for this method. It's a bit of a bumpy ride.\n\n    // First, we establish all data we want made available to the function/expression.\n    let farExtras = {}\n    let dataStack = closestDataStack(el)\n    let closeExtras = extras\n\n    Alpine.injectMagics(closeExtras, el)\n\n    // Now we smush em all together into one stack and reverse it so we can give proper scoping priority later.\n    let reversedDataStack = [farExtras].concat(Array.from(dataStack).concat([closeExtras])).reverse()\n\n    // We're going to use Async functions for evaluation to allow for the use of \"await\" in expressions.\n    let AsyncFunction = Object.getPrototypeOf(async function(){}).constructor\n\n    // If we weren't given a string expression (in the case of x-spread), evaluate the function directly.\n    if (typeof expression === 'function') {\n        let mergedObject = mergeProxies(...reversedDataStack)\n\n        let expressionWithContext = expression.bind(mergedObject)\n\n        return (...args) => {\n            let result = expressionWithContext(...args)\n\n            if (result instanceof Promise) {\n                return (receiver) => {\n                    result.then(i => receiver(i))\n                }\n            }\n\n            return (receiver) => receiver(result)\n        }\n    }\n\n    let names = reversedDataStack.map((data, index) => `$data${index}`)\n\n    let namesWithPlaceholder = ['$dataPlaceholder'].concat(names)\n\n    let assignmentPrefix = returns ? '__self.result = ' : ''\n\n    let withExpression = namesWithPlaceholder.reduce((carry, current) => { return `with (${current}) { ${carry} }` }, `${assignmentPrefix}${expression}`)\n\n    let namesWithPlaceholderAndDefault = names.concat(['$dataPlaceholder = {}'])\n\n    let evaluator = () => {}\n\n    // We wrap this in a try catch right now so we can catch errors when constructing the evaluator and handle them nicely.\n    evaluator = tryCatch(el, expression, () => (...args) => {\n        // We build the async function from the expression and arguments we constructed already.\n        let func = new AsyncFunction(['__self', ...namesWithPlaceholderAndDefault], `${withExpression}; __self.finished = true; return __self.result;`)\n\n        // The following rigamerol is to handle the AsyncFunction both synchronously AND asynchronously at the SAME TIME. What a rush.\n\n        // Because the async/promise body is evaluated immediately (synchronously), we can store any results and check\n        // if they are set synchronously.\n        func.result = undefined\n        func.finished = false\n\n        // Run the function.\n        let promise = func(...[func, ...args])\n\n        return (receiver) => {\n            // Check if the function ran synchronously,\n            if (func.finished) {\n                // Return the immediate result.\n                receiver(func.result)\n            } else {\n                // If not, return the result when the promise resolves.\n                promise.then(result => {\n                    receiver(result)\n                })\n            }\n        }\n    })\n\n\n    let boundEvaluator = evaluator.bind(null, ...reversedDataStack)\n\n    return tryCatch.bind(null, el, expression, boundEvaluator)\n}\n\nexport function evaluatorSync(el, expression, extras = {}, returns = true) {\n    let evaluate = evaluator(el, expression, extras, returns)\n\n    return (extras) => {\n        let result\n\n        evaluate(extras)(value => result = value)\n\n        return result\n    }\n}\n\nexport function evaluate(el, expression, extras = {}, returns = true) {\n    return evaluator(el, expression, extras, returns)()\n}\n\nexport function evaluateSync(el, expression, extras = {}, returns = true) {\n    let result\n\n    evaluator(el, expression, extras, returns)()(value => result = value)\n\n    return result\n}\n\n\nfunction tryCatch(el, expression, callback, ...args) {\n    try {\n        return callback(...args)\n    } catch (e) {\n        console.log(callback.toString())\n        console.warn(`Alpine Expression Error: ${e.message}\\n\\nExpression: \"${expression}\"\\n\\n`, el)\n\n        throw e\n    }\n}\n","\nexport default function mergeProxies(...objects) {\n    return new Proxy({}, {\n        get: (target, name) => {\n            return (objects.find(object => Object.keys(object).includes(name)) || {})[name];\n        },\n\n        set: (target, name, value) => {\n            let closestObjectWithKey = objects.find(object => Object.keys(object).includes(name))\n            // @todo: you might need to re-add me, just trying to see if we need this.\n            // let closestCanonicalObject = objects.find(object => object['_x_canonical'])\n\n            if (closestObjectWithKey) {\n                closestObjectWithKey[name] = value\n            // } else if (closestCanonicalObject) {\n            //     closestCanonicalObject[name] = value\n            } else {\n                objects[objects.length - 1][name] = value\n            }\n\n            return true\n        },\n    })\n}\n","import { closestDataStack } from './utils/closest'\n\nexport function addScopeToNode(node, data) {\n    node._x_dataStack = new Set(closestDataStack(node))\n\n    node._x_dataStack.add(data)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('provide', (el, value, modifiers, expression) => {\n    let evaluate = evaluatorSync(el, expression)\n\n    let root = closestCustomElementRoot(el)\n\n    if (! root._x_provides) root._x_provides = {}\n\n    Object.defineProperty(root._x_provides, expression, {\n        get() { return evaluate() }\n    })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el._x_customElementRoot) return el\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import { setClasses, toggleClasses } from '../utils/classes'\n\nexport default function bind(el, name, value, modifiers = []) {\n    // Register bound data as pure observable data for other APIs to use.\n    if (! el._x_bindings) el._x_bindings = Alpine.reactive({})\n\n    el._x_bindings[name] = value\n\n    name = modifiers.includes('camel') ? camelCase(name) : name\n\n    switch (name) {\n        case 'value':\n            bindInputValue(el, value)\n            break;\n\n        case 'class':\n            bindClasses(el, value)\n            break;\n\n        default:\n            bindAttribute(el, name, value)\n            break;\n    }\n}\n\nfunction bindInputValue(el, value) {\n    if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined) {\n            el.value = value\n        }\n\n        // @todo: yuck\n        if (window.fromModel) {\n            el.checked = checkedAttrLooseCompare(el.value, value)\n        }\n    } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean/array/number/null/undefined, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (Number.isInteger(value)) {\n            el.value = value\n        } else if (! Number.isInteger(value) && ! Array.isArray(value) && typeof value !== 'boolean' && ! [null, undefined].includes(value)) {\n            el.value = String(value)\n        } else {\n            if (Array.isArray(value)) {\n                el.checked = value.some(val => checkedAttrLooseCompare(val, el.value))\n            } else {\n                el.checked = !!value\n            }\n        }\n    } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value)\n    } else {\n        if (el.value === value) return\n\n        el.value = value\n    }\n}\n\nfunction bindClasses(el, value) {\n    if (el._x_undoAddedClasses) el._x_undoAddedClasses()\n\n    if (typeof value === 'object' && value !== null) {\n        el._x_undoAddedClasses = toggleClasses(el, value)\n    } else {\n        el._x_undoAddedClasses = setClasses(el, value)\n    }\n}\n\nfunction bindAttribute(el, name, value) {\n    // If an attribute's bound value is null, undefined or false, remove the attribute\n    if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(name)\n    } else {\n        isBooleanAttr(name) ? setIfChanged(el, name, name) : setIfChanged(el, name, value)\n    }\n}\n\nfunction setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n        el.setAttribute(attrName, value)\n    }\n}\n\nfunction updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => { return value + '' })\n\n    Array.from(el.options).forEach(option => {\n        option.selected = arrayWrappedValue.includes(option.value)\n    })\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = [\n        'disabled','checked','required','readonly','hidden','open', 'selected',\n        'autofocus', 'itemscope', 'multiple', 'novalidate','allowfullscreen',\n        'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop',\n        'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer',\n        'nomodule'\n    ]\n\n    return booleanAttributes.includes(attrName)\n}\n","\nexport default function on (el, event, modifiers, callback) {\n    let options = { passive: modifiers.includes('passive') }\n\n    if (modifiers.includes('camel')) event = camelCase(event)\n\n    if (modifiers.includes('away')) {\n        return addAwayListener(el, event, modifiers, callback, options)\n    } else {\n        let listenerTarget = modifiers.includes('window')\n            ? window : (modifiers.includes('document') ? document : el)\n\n        let handler = e => {\n            if (isKeyEvent(event)) {\n                if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n                    return\n                }\n            }\n\n            if (modifiers.includes('prevent')) e.preventDefault()\n            if (modifiers.includes('stop')) e.stopPropagation()\n            if (modifiers.includes('self') && e.target !== el) return\n\n            callback(e)\n\n            if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options)\n            }\n        }\n\n        if (modifiers.includes('debounce')) {\n            let nextModifier = modifiers[modifiers.indexOf('debounce')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = debounce(handler, wait, this)\n        }\n\n        if (modifiers.includes('throttle')) {\n            let nextModifier = modifiers[modifiers.indexOf('throttle')+1] || 'invalid-wait'\n            let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\n            handler = throttle(handler, wait, this)\n        }\n\n        listenerTarget.addEventListener(event, handler, options)\n\n        return () => {\n            listenerTarget.removeEventListener(event, handler, options)\n        }\n    }\n}\n\nfunction camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\n}\n\nfunction addAwayListener(el, event, modifiers, callback, options) {\n    let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return\n\n        // Don't do anything if this element isn't currently visible.\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return\n\n        // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n        callback(e)\n\n        if (modifiers.includes('once')) {\n            document.removeEventListener(event, handler, options)\n        }\n    }\n\n    // Listen for this event at the root level.\n    document.addEventListener(event, handler, options)\n\n    return () => {\n        document.removeEventListener(event, handler, options)\n    }\n}\n\nfunction debounce(func, wait) {\n    var timeout\n    return function() {\n        var context = this, args = arguments\n        var later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n\nfunction throttle(func, limit) {\n    let inThrottle\n    return function() {\n        let context = this, args = arguments\n        if (! inThrottle) {\n            func.apply(context, args)\n            inThrottle = true\n            setTimeout(() => inThrottle = false, limit)\n        }\n    }\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n\nfunction kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase()\n}\n\n\nfunction isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event)\n}\n\nfunction isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n        return ! ['window', 'document', 'prevent', 'stop'].includes(i)\n    })\n\n    if (keyModifiers.includes('debounce')) {\n        let debounceIndex = keyModifiers.indexOf('debounce')\n        keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex+1] || 'invalid-wait').split('ms')[0]) ? 2 : 1)\n    }\n\n    // If no modifier is specified, we'll call it a press.\n    if (keyModifiers.length === 0) return false\n\n    // If one is passed, AND it matches the key pressed, we'll call it a press.\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false\n\n    // The user is listening for key combinations.\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super']\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier))\n\n    keyModifiers = keyModifiers.filter(i => ! selectedSystemKeyModifiers.includes(i))\n\n    if (selectedSystemKeyModifiers.length > 0) {\n        const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n            // Alias \"cmd\" and \"super\" to \"meta\"\n            if (modifier === 'cmd' || modifier === 'super') modifier = 'meta'\n\n            return e[`${modifier}Key`]\n        })\n\n        // If all the modifiers selected are pressed, ...\n        if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n            // AND the remaining key is pressed as well. It's a press.\n            if (keyModifiers[0] === keyToModifier(e.key)) return false\n        }\n    }\n\n    // We'll call it NOT a valid keypress.\n    return true\n}\n\nfunction keyToModifier(key) {\n    switch (key) {\n        case '/':\n            return 'slash'\n        case ' ':\n        case 'Spacebar':\n            return 'space'\n        default:\n            return key && kebabCase(key)\n    }\n}\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('model', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n    let assignmentExpression = `${expression} = rightSideOfExpression($event, ${expression})`\n    let evaluateAssignment = evaluator(el, assignmentExpression)\n\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = (el.tagName.toLowerCase() === 'select')\n        || ['checkbox', 'radio'].includes(el.type)\n        || modifiers.includes('lazy')\n            ? 'change' : 'input'\n\n    let assigmentFunction = generateAssignmentFunction(el, modifiers, expression)\n\n    let removeListener = on(el, event, modifiers, (e) => {\n        evaluateAssignment({\n            '$event': e,\n            rightSideOfExpression: assigmentFunction\n        })\n    })\n\n    el._x_forceModelUpdate = () => {\n        evaluate()(value => {\n            // If nested model key is undefined, set the default value to empty string.\n            if (value === undefined && expression.match(/\\./)) value = ''\n\n            // @todo: This is nasty\n            window.fromModel = true\n            bind(el, 'value', value)\n            delete window.fromModel\n        })\n    }\n\n    effect(() => {\n        // Don't modify the value of the input if it's focused.\n        if (modifiers.includes('unintrusive') && document.activeElement.isSameNode(el)) return\n\n        el._x_forceModelUpdate()\n    })\n})\n\nfunction generateAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n        // Radio buttons only work properly when they share a name attribute.\n        // People might assume we take care of that for them, because\n        // they already set a shared \"x-model\" attribute.\n        if (! el.hasAttribute('name')) el.setAttribute('name', expression)\n    }\n\n    return (event, currentValue) => {\n        // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n        if (event instanceof CustomEvent && event.detail !== undefined) {\n            return event.detail\n        } else if (el.type === 'checkbox') {\n            // If the data we are binding to is an array, toggle its value inside the array.\n            if (Array.isArray(currentValue)) {\n                let newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value\n\n                return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => ! checkedAttrLooseCompare(el, newValue))\n            } else {\n                return event.target.checked\n            }\n        } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n            return modifiers.includes('number')\n                ? Array.from(event.target.selectedOptions).map(option => {\n                    let rawValue = option.value || option.text\n                    return safeParseNumber(rawValue)\n                })\n                : Array.from(event.target.selectedOptions).map(option => {\n                    return option.value || option.text\n                })\n        } else {\n            let rawValue = event.target.value\n            return modifiers.includes('number')\n                ? safeParseNumber(rawValue)\n                : (modifiers.includes('trim') ? rawValue.trim() : rawValue)\n        }\n    }\n}\n\n\nfunction safeParseNumber(rawValue) {\n    let number = rawValue ? parseFloat(rawValue) : null\n\n    return isNumeric(number) ? number : rawValue\n}\n\nfunction checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n// @todo: make it so that transitions will only get loaded if it's available in the main bundle\nimport { registerTranstions } from './x-transition'\n\nAlpine.directive('show', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression, {}, true, true)\n\n    let hide = () => {\n        el.style.display = 'none'\n\n        el._x_is_shown = false\n    }\n\n    let show = () => {\n        if (el.style.length === 1 && el.style.display === 'none') {\n            el.removeAttribute('style')\n        } else {\n            el.style.removeProperty('display')\n        }\n\n        el._x_is_shown = true\n    }\n\n    // @todo make this more tree-shakeable\n    if (modifiers.includes('transition')) {\n        registerTranstions(el, modifiers)\n    }\n\n    let isFirstRun = true\n\n    effect(() => evaluate()(value => {\n        (isFirstRun || modifiers.includes('immediate'))\n            ? toggleImmediately(el, value, show, hide)\n            : toggleWithTransitions(el, value, show, hide)\n\n        isFirstRun = false\n    }))\n})\n\nfunction toggleImmediately(el, value, show, hide) {\n    value ? show() : hide()\n}\n\nfunction toggleWithTransitions(el, value, show, hide) {\n    if (value) {\n        el._x_transition\n            ? el._x_transition.in(show)\n            : show()\n    } else {\n        el._x_do_hide = el._x_transition\n            ? (resolve, reject) => {\n                el._x_transition.out(() => {}, () => resolve(hide))\n\n                el._x_transitioning.beforeCancel(() => reject({ isFromCancelledTransition: true }))\n            }\n            : (resolve) => resolve(hide)\n\n        queueMicrotask(() => {\n            let closest = closestHide(el)\n\n            if (closest) {\n                closest._x_hide_child = el\n            } else {\n                queueMicrotask(() => {\n                    let hidePromises = []\n                    let current = el\n                    while (current) {\n                        hidePromises.push(new Promise(current._x_do_hide))\n\n                        current = current._x_hide_child\n                    }\n\n                    hidePromises.reverse().reduce((promiseChain, promise) => {\n                        return promiseChain.then(() => {\n                            return promise.then(doHide => doHide())\n                        })\n                    }, Promise.resolve(() => {})).catch((e) => {\n                        if (! e.isFromCancelledTransition) throw e\n                    })\n                })\n            }\n        })\n    }\n}\n\nfunction closestHide(el) {\n    let parent = el.parentNode\n\n    if (! parent) return\n\n    return parent._x_do_hide ? parent : closestHide(parent)\n}\n","import { reactive } from './../reactivity'\nimport Alpine from '../alpine'\nimport { evaluateSync } from '../utils/evaluate'\nimport { closestDataProxy, closestDataStack } from '../utils/closest'\nimport { addScopeToNode } from '../scope'\n\ndocument.addEventListener('alpine:initializing', () => {\n    document.querySelectorAll('[x-element]').forEach(template => {\n        registerElement(template.getAttribute('x-element'), template)\n    })\n})\n\nfunction registerElement(name, template) {\n    customElements.define(name, class extends HTMLElement {\n        constructor() {\n            super()\n\n            let props = template.hasAttribute('x-props')\n                ? evaluateSync(template, template.getAttribute('x-props'))\n                : {}\n\n            this.setAttribute('x-element', name)\n\n            this._x_defaultProps = props\n            this._x_template = template\n\n            queueMicrotask(() => {\n                // If this component is not inside of Alpine scope\n                if (closestDataStack(this).size === 0) {\n                    console.log('not inside')\n                }\n            })\n        }\n    })\n}\n\nAlpine.directive('element', (el, value, modifiers, expression, effect) => {\n    let template = el._x_template\n    let defaultProps = el._x_defaultProps\n\n    let element = createElement(template)\n\n    let injectData = generateInjectDataObject(template, el)\n\n    let props = getProps(element, el, defaultProps)\n\n    transferAttributes(element, el, props)\n\n    element._x_dataStack = new Set([props, el._x_bindings || {}, injectData])\n\n    element._x_ignoreMutationObserver = true\n    element._x_customElementRoot = true\n\n    Alpine.initTree(element)\n\n    let slot = element.querySelector('slot')\n\n    let scope = {}\n\n    if (slot && el.hasAttribute('x-scope')) {\n        let scopeName = el.getAttribute('x-scope')\n\n        Object.defineProperty(scope, scopeName, {\n            get() {\n                return slot._x_bindings[scopeName]\n            }\n        })\n    }\n\n    el.childNodes.forEach(node => {\n        addScopeToNode(node, scope)\n    })\n\n    queueMicrotask(() => {\n        el.replaceWith(element)\n\n        el.removeAttribute('x-element')\n        element.setAttribute('x-element', expression)\n\n        // el._x_customElementRoot = true\n\n        slot && slot.replaceWith(...el.childNodes)\n    })\n})\n\nfunction generateInjectDataObject(template, el) {\n    let reactiveRoot = {}\n\n    if (! template.hasAttribute('x-inject')) return {}\n\n    let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n    injectNames.forEach(injectName => {\n        let getClosestProvides = (el, name) => {\n            if (! el) return {}\n            console.log(el, el._x_provides);\n\n            if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n            return getClosestProvides(el.parentNode, name)\n        }\n\n        let provides = getClosestProvides(el, injectName)\n\n        console.log(provides);\n\n        Object.defineProperty(reactiveRoot, injectName, {\n            get() {\n                return provides[injectName]\n            },\n        })\n    })\n\n    return reactiveRoot\n}\n\nfunction getProps(element, el, defaultProps) {\n    let props = {}\n\n    // Assign defaults\n    Object.entries(defaultProps).forEach(([key, value]) => props[key] = value)\n    let propKeys = Object.keys(props)\n\n    // Assign passed in vanillas\n    propKeys.forEach(key => el.hasAttribute(key) ? props[key] = el.getAttribute(key) : null)\n\n    return props\n}\n\nfunction transferAttributes(from, to, props) {\n    // Exempt props from attribute forwarding\n    Object.keys(props).forEach((propName) => {\n        if (from.hasAttribute(propName)) from.removeAttribute(propName)\n    })\n\n    // Merge classes\n    if (from.hasAttribute('class') && to.hasAttribute('class')) {\n        let froms = from.getAttribute('class').split(' ').map(i => i.trim())\n        let tos = to.getAttribute('class').split(' ').map(i => i.trim())\n\n        from.setAttribute('class', Array.from(new Set([...froms, ...tos])).join(' '))\n    }\n\n    Array.from(from.attributes).forEach(attribute => {\n        to.setAttribute(attribute.name, attribute.value)\n    })\n}\n\nfunction createElement(htmlOrTemplate) {\n    if (typeof htmlOrTemplate === 'string') {\n        return document.createRange().createContextualFragment(htmlOrTemplate).firstElementChild\n    }\n\n    return htmlOrTemplate.content.firstElementChild.cloneNode(true)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function registerElement(name, template) {\n//     customElements.define(name, class extends HTMLElement {\n//         constructor() {\n//             super()\n\n//             let shadow = this.attachShadow({ mode: 'open' })\n\n//             Array.from(template.content.children).forEach(child => {\n//                 shadow.append(child.cloneNode(true))\n//             })\n\n//             // @todo: totally undecided on this.\n//             // this.setAttribute('invisible', true)\n//             // this.style.display = 'contents'\n\n//             // This is great and does great things, but breaks flex\n//             // this.style.display = 'contents'\n\n//             // The main mutation observer won't pick up changes inside\n//             // shadow roots (like els added by x-for).\n//             Alpine.listenForAndReactToDomManipulations(this.shadowRoot)\n\n//             Alpine.scheduler.nextTick(() => {\n//                 let reactiveRoot = Alpine.reactive({})\n\n//                 let customElementRoot = this\n\n//                 if (template.hasAttribute('x-props')) {\n//                     let props = evaluateSync(this.shadowRoot, template.getAttribute('x-props'))\n\n//                     Object.entries(props).forEach(([propName, propDefault]) => {\n//                         // If the property was bound on the custom-element with x-bind.\n//                         if (this._x_bindings && typeof this._x_bindings[propName] !== undefined) {\n//                             Object.defineProperty(reactiveRoot, propName, {\n//                                 get() {\n//                                     return customElementRoot._x_bindings[propName]()\n//                                 }\n//                             })\n\n//                             return\n//                         }\n\n//                         // If the element has the property on itself.\n//                         if (this.hasAttribute(propName)) {\n//                             reactiveRoot[propName] = this.getAttribute(propName)\n\n//                             return\n//                         }\n\n//                         reactiveRoot[propName] = propDefault\n//                     })\n\n//                 }\n\n//                 if (template.hasAttribute('x-inject')) {\n//                     let injectNames = template.getAttribute('x-inject').split(',').map(i => i.trim())\n\n//                     injectNames.forEach(injectName => {\n//                         let getClosestProvides = (el, name) => {\n//                             if (! el) return {}\n\n//                             if (el._x_provides && el._x_provides[injectName] !== undefined) return el._x_provides\n\n//                             return getClosestProvides(el.parentNode, name)\n//                         }\n\n//                         // We're gonna cache provides in the outer scope so we don't\n//                         // have to crawl up the dom tree every time we want it.\n//                         let provides\n\n//                         Object.defineProperty(reactiveRoot, injectName, {\n//                             get() {\n//                                 if (! provides) {\n//                                     provides = getClosestProvides(customElementRoot, injectName)\n//                                 }\n\n//                                 return provides[injectName]\n//                             },\n//                         })\n//                     })\n\n//                 }\n\n//                 this.shadowRoot._x_dataStack = new Set(closestDataStack(this.shadowRoot))\n//                 this.shadowRoot._x_dataStack.add(Alpine.reactive(reactiveRoot))\n\n//                 Alpine.initTree(shadow)\n//             })\n//         }\n//     })\n// }\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('destroy', (el, value, modifiers, expression) => {\n    Alpine.addDestroyCallback(el, () => evaluate(el, expression, {}, false))\n})\n","import Alpine from '../alpine'\nimport { directives } from '../utils/directives'\nimport { evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('spread', (el, value, modifiers, expression, effect) => {\n    let spreadObject = evaluateSync(el, expression)\n\n    let rawAttributes = Object.entries(spreadObject).map(([name, value]) => ({ name, value }))\n\n    let attributes = directives(el, rawAttributes)\n\n    Alpine.init(el, attributes)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\nimport { closestDataStack } from '../utils/closest'\nimport { evaluateSync, evaluator } from '../utils/evaluate'\n\nAlpine.directive('scope', (el, value, modifiers, expression) => {\n    console.log('scope')\n    // })\n})\n\nfunction closestCustomElementRoot(el) {\n    if (el.host) return el.host\n\n    return closestCustomElementRoot(el.parentNode)\n}\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.directive('cloak', (el) => {\n    scheduler.nextTick(() => {\n        el.removeAttribute('x-cloak')\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('watch', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, `$watch('${value}', $value => ${expression})`)\n\n    setTimeout(() => {\n        evaluate()\n    })\n})\n","import Alpine from '../alpine'\nimport { evaluate } from '../utils/evaluate'\n\nAlpine.directive('init', (el, value, modifiers, expression, effect) => {\n    evaluate(el, expression, {}, false)\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('text', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    effect(() => {\n        evaluate()(value => {\n            el.textContent = value\n        })\n    })\n})\n","import Alpine from '../alpine'\nimport bind from '../utils/bind'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.directive('bind', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    // Ignore x-bind:key. (x-for will handle that)\n    if (value === 'key') return\n\n    effect(() => evaluate()(result => {\n        bind(el, value, result, modifiers)\n    }))\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { evaluate, evaluateSync } from '../utils/evaluate'\n\nAlpine.directive('data', (el, value, modifiers, expression, effect) => {\n    expression = expression === '' ? '{}' : expression\n\n    let components = Alpine.components\n\n    let data = Object.keys(components).includes(expression)\n        ? components[expression]()\n        : evaluateSync(el, expression)\n\n    Alpine.injectMagics(data, el)\n\n    addScopeToNode(el, reactive(data))\n\n    if (data['init']) {\n        evaluateSync(el, data['init'].bind(data))\n    }\n\n    if (data['destroy']) {\n        Alpine.addDestroyCallback(el, () => {\n            evaluate(el, data['destroy'].bind(data))\n        })\n    }\n})\n","import Alpine from '../alpine'\nimport { reactive } from '../reactivity'\nimport { addScopeToNode } from '../scope'\nimport { closestDataStack } from '../utils/closest'\nimport { directivesByType } from '../utils/directives'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('for', (el, value, modifiers, expression, effect) => {\n    let iteratorNames = parseForExpression(expression)\n\n    let evaluateItems = evaluator(el, iteratorNames.items)\n    let evaluateKey = evaluatorSync(el,\n        // Look for a :key=\"...\" expression\n        directivesByType(el, 'bind').filter(attribute => attribute.value === 'key')[0]?.expression\n        // Otherwise, use \"index\"\n        || 'index'\n    )\n\n    effect(() => {\n        loop(el, iteratorNames, evaluateItems, evaluateKey)\n    })\n})\n\nfunction loop(el, iteratorNames, evaluateItems, evaluateKey) {\n    let templateEl = el\n\n    evaluateItems()(items => {\n        // This adds support for the `i in n` syntax.\n        if (isNumeric(items) && items > 0) {\n            items = Array.from(Array(items).keys(), i => i + 1)\n        }\n\n        let closestParentContext = closestDataStack(el)\n\n        // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n        let currentEl = templateEl\n        items.forEach((item, index) => {\n            let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items)\n\n            let currentKey = evaluateKey({ index, ...iterationScopeVariables })\n\n            let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey)\n\n            // If we haven't found a matching key, insert the element at the current position.\n            if (! nextEl) {\n                nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl)\n\n                addScopeToNode(nextEl, reactive(iterationScopeVariables))\n\n                nextEl._x_for = iterationScopeVariables\n            }\n\n            // Refresh scope\n            Object.entries(iterationScopeVariables).forEach(([key, value]) => {\n                Array.from(nextEl._x_dataStack).slice(-1)[0][key] = value\n            })\n\n\n            currentEl = nextEl\n            currentEl._x_for_key = currentKey\n        })\n\n        removeAnyLeftOverElementsFromPreviousUpdate(currentEl)\n    })\n}\n\n// This was taken from VueJS 2.* core. Thanks Vue!\nfunction parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\n    let stripParensRE = /^\\(|\\)$/g\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\n    let inMatch = expression.match(forAliasRE)\n    if (! inMatch) return\n    let res = {}\n    res.items = inMatch[2].trim()\n    let item = inMatch[1].trim().replace(stripParensRE, '')\n    let iteratorMatch = item.match(forIteratorRE)\n\n    if (iteratorMatch) {\n        res.item = item.replace(forIteratorRE, '').trim()\n        res.index = iteratorMatch[1].trim()\n\n        if (iteratorMatch[2]) {\n            res.collection = iteratorMatch[2].trim()\n        }\n    } else {\n        res.item = item\n    }\n    return res\n}\n\nfunction getIterationScopeVariables(iteratorNames, item, index, items) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = {}\n\n    scopeVariables[iteratorNames.item] = item\n\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index\n\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items\n\n    return scopeVariables\n}\n\nfunction addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true)\n\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling)\n\n    let inserted = currentEl.nextElementSibling\n\n    return inserted\n}\n\nfunction lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (! nextEl) return\n\n    // If the the key's DO match, no need to look ahead.\n    if (nextEl._x_for_key === currentKey) return nextEl\n\n    // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n    let tmpNextEl = nextEl\n\n    while(tmpNextEl) {\n        if (! tmpNextEl._x_for_key) return\n\n        if (tmpNextEl._x_for_key === currentKey) {\n            return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl)\n        }\n\n        tmpNextEl = (tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling._x_for_key !== undefined) ? tmpNextEl.nextElementSibling : false\n    }\n}\n\nfunction removeAnyLeftOverElementsFromPreviousUpdate(currentEl) {\n    var nextElementFromOldLoop = (currentEl.nextElementSibling && currentEl.nextElementSibling._x_for_key !== undefined) ? currentEl.nextElementSibling : false\n\n    while (nextElementFromOldLoop) {\n        let nextElementFromOldLoopImmutable = nextElementFromOldLoop\n        let nextSibling = nextElementFromOldLoop.nextElementSibling\n\n        nextElementFromOldLoopImmutable.remove()\n\n        nextElementFromOldLoop = (nextSibling && nextSibling._x_for_key !== undefined) ? nextSibling : false\n    }\n}\n\nfunction isNumeric(subject){\n    return ! Array.isArray(subject) && ! isNaN(subject)\n}\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nlet handler = function (el, value, modifiers, expression, effect, before) {\n    let theRoot = root(el)\n\n    if (! theRoot._x_refs) theRoot._x_refs = {}\n\n    theRoot._x_refs[expression] = el\n}\n\nhandler.immediate = true\n\nAlpine.directive('ref', handler)\n","import Alpine from '../alpine'\nimport { effect } from '../reactivity'\nimport scheduler from '../scheduler'\nimport { evaluator, evaluatorSync } from '../utils/evaluate'\n\nAlpine.directive('if', (el, value, modifiers, expression, effect) => {\n    let evaluate = evaluator(el, expression)\n\n    let show = () => {\n        let clonedFragment = el.content.cloneNode(true)\n\n        let first = clonedFragment.firstChild\n        let last = clonedFragment.lastChild\n\n        el.after(clonedFragment)\n\n        let range = document.createRange()\n        first && range.setStartBefore(first)\n        last && range.setEndAfter(last)\n\n        el._x_undoIf = () => range.deleteContents()\n    }\n\n    let hide = () => el._x_undoIf?.() || delete el._x_undoIf\n\n    effect(() => evaluate()(result => result ? show() : hide()))\n})\n","import Alpine from '../alpine'\nimport { evaluator } from '../utils/evaluate'\nimport on from '../utils/on'\n\nAlpine.directive('on', (el, value, modifiers, expression) => {\n    let evaluate = evaluator(el, expression, {}, false)\n\n    let removeListener = on(el, value, modifiers, e => {\n        evaluate({ '$event': e })\n    })\n\n    Alpine.addDestroyCallback(el, removeListener)\n})\n","import Alpine from '../alpine'\nimport scheduler from '../scheduler'\n\nAlpine.magic('nextTick', el => callback => scheduler.nextTick(callback))\n","import Alpine from '../alpine'\n\nAlpine.magic('dispatch', el => {\n    return (event, detail = {}) => {\n        return el._x_dispatch(event, detail)\n    }\n})\n\nwindow.Element.prototype._x_dispatch = function(event, detail = {}) {\n    this.dispatchEvent(new CustomEvent(event, {\n        detail,\n        bubbles: true,\n        // Allows events to pass the shadow DOM barrier.\n        composed: true,\n    }))\n}\n","import Alpine from '../alpine'\nimport { pauseTracking, enableTracking } from './../reactivity'\nimport { evaluator } from '../utils/evaluate'\n\nAlpine.magic('watch', el => {\n    return (key, callback) => {\n        let evaluate = evaluator(el, key)\n\n        let firstTime = true\n\n        let effect = Alpine.effect(() => evaluate()(value => {\n            // This is a hack to force deep reactivity for things like \"items.push()\"\n            let div = document.createElement('div')\n            div.dataset.hey = value\n\n            if (! firstTime) {\n                // Stop reactivity while running the watcher.\n                pauseTracking()\n\n                callback(value)\n\n                enableTracking()\n            }\n\n            firstTime = false\n        }))\n    }\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('store', () => {\n    return name => Alpine.getStore(name)\n})\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('root', el => root(el))\n","import Alpine from '../alpine'\nimport { root } from '../utils/root'\n\nAlpine.magic('refs', el => root(el)._x_refs || {})\n","import Alpine from '../alpine'\n\nAlpine.magic('el', el => el)\n","\nimport Alpine from './alpine'\n\n/**\n * Register Directives\n */\nimport './directives/x-transition'\n// import './directives/x-intersect'\nimport './directives/x-element'\nimport './directives/x-provide'\nimport './directives/x-destroy'\nimport './directives/x-spread'\nimport './directives/x-scope'\nimport './directives/x-model'\nimport './directives/x-cloak'\n// import './directives/x-morph'\nimport './directives/x-watch'\nimport './directives/x-init'\nimport './directives/x-text'\nimport './directives/x-bind'\nimport './directives/x-data'\nimport './directives/x-show'\nimport './directives/x-for'\nimport './directives/x-ref'\nimport './directives/x-if'\nimport './directives/x-on'\n\n/**\n * Register Magics\n */\nimport './magics/$nextTick'\nimport './magics/$dispatch'\nimport './magics/$watch'\nimport './magics/$store'\n// import './magics/$morph'\nimport './magics/$root'\nimport './magics/$refs'\nimport './magics/$el'\n\n/**\n * Start It Up\n */\nwindow.Alpine = Alpine\n\nAlpine.start()\n"],"names":["tasks","lowPriorityTasks","nextTicks","shouldFlush","ignore","callback","this","task","push","shouldFlushAtEndOfRequest","nextTick","holdNextTicks","holdNextTicksOver","releaseNextTicks","length","shift","queueMicrotask","flush","flushImmediately","setTimeout","performance","now","navigator","_navigator","scheduling","_navigator$scheduling","isInputPending","bind","t","n","Object","assign","r","prototype","hasOwnProperty","s","e","call","i","Array","isArray","o","f","u","a","l","toString","h","parseInt","_","v","WeakMap","d","p","g","Symbol","y","w","_isEffect","raw","active","scheduler","includes","deps","delete","S","j","pop","O","id","b","allowRecurse","options","lazy","k","E","m","P","get","set","Map","Set","has","add","x","c","forEach","z","getOwnPropertyNames","map","filter","M","I","A","W","N","V","lt","at","Reflect","kt","value","vt","ht","K","Rt","Number","apply","B","deleteProperty","ownKeys","q","F","G","H","J","getPrototypeOf","L","__v_raw","Q","T","U","X","Y","Z","size","clear","$","tt","iterator","[object Object]","done","next","et","nt","rt","st","it","ot","ut","__v_isReadonly","pt","__v_isReactive","__v_skip","isExtensible","slice","ft","Proxy","Boolean","__v_isRef","directives","el","attributes","attributeNamesAndValues","from","attr","name","addAttributes","interceptors","startsWith","replace","reduce","carry","interceptor","interceptNameAndValue","directiveOrder","sort","typeA","indexOf","type","typeB","sortDirectives","isXAttr","parseHtmlAttribute","xAttrRE","test","typeMatch","match","valueMatch","modifiers","expression","root","hasAttribute","parentElement","closestDataStack","node","_x_dataStack","ShadowRoot","host","parentNode","Alpine","reactive","syncEffect","effect","defineProperty","configurable","enumerable","toRaw","skipEffects","effectSync","magics","components","directive","magic","component","stores","store","object","getStore","injectMagics","obj","entries","start","document","dispatchEvent","CustomEvent","bubbles","listenForAndReactToDomManipulations","querySelector","querySelectorAll","initTree","children","child","walk","init","destroyCallbacks","addDestroyCallback","destroyTree","destroy","callbacks","rootElement","MutationObserver","mutations","mutation","addedNodes","nodeType","_x_ignoreMutationObserver","removedNodes","observe","subtree","childList","deep","skip","firstElementChild","nextElementSibling","setClasses","classString","subject","classes","String","console","warn","split","classList","contains","missingClasses","remove","transitionClasses","during","end","before","after","undoStart","undoDuring","undoEnd","_x_transitioning","cancel","performTransition","cleanup","transitionStyles","setStyles","styleObject","previousStyles","key","style","stages","finish","once","isConnected","beforeCancels","beforeCancel","requestAnimationFrame","duration","getComputedStyle","transitionDuration","animationDuration","called","arguments","modifierValue","fallback","rawValue","isNumeric","join","evaluator","extras","returns","dataStack","closeExtras","reversedDataStack","concat","reverse","AsyncFunction","async","constructor","mergedObject","objects","target","find","keys","closestObjectWithKey","mergeProxies","expressionWithContext","args","result","Promise","receiver","then","names","data","index","withExpression","current","namesWithPlaceholderAndDefault","tryCatch","func","undefined","finished","promise","boundEvaluator","evaluatorSync","evaluate","evaluateSync","log","message","addScopeToNode","closestCustomElementRoot","_x_customElementRoot","_x_bindings","toLowerCase","char","toUpperCase","window","fromModel","checked","checkedAttrLooseCompare","isInteger","some","val","tagName","arrayWrappedValue","option","selected","updateSelect","bindInputValue","_x_undoAddedClasses","classObject","forAdd","flatMap","bool","forRemove","added","removed","toggleClasses","bindClasses","removeAttribute","setIfChanged","bindAttribute","attrName","getAttribute","setAttribute","valueA","valueB","on","event","passive","handler","offsetWidth","offsetHeight","removeEventListener","addEventListener","addAwayListener","listenerTarget","isKeyEvent","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","nextModifier","wait","timeout","context","later","clearTimeout","debounce","limit","inThrottle","throttle","isNaN","safeParseNumber","number","parseFloat","closestHide","parent","_x_do_hide","_x_transition","enter","leave","in","out","enter-start","enter-end","leave-start","leave-end","template","customElements","define","HTMLElement","super","props","_x_defaultProps","_x_template","registerElement","defaultProps","element","htmlOrTemplate","createRange","createContextualFragment","content","cloneNode","injectData","reactiveRoot","trim","injectName","getClosestProvides","_x_provides","provides","generateInjectDataObject","getProps","to","propName","froms","tos","attribute","transferAttributes","slot","scope","scopeName","childNodes","replaceWith","spreadObject","evaluateAssignment","assigmentFunction","currentValue","detail","newValue","multiple","selectedOptions","text","generateAssignmentFunction","$event","rightSideOfExpression","_x_forceModelUpdate","activeElement","isSameNode","textContent","hide","display","_x_is_shown","show","removeProperty","doesntSpecify","transitioningIn","transitioningOut","transitionOrigin","transitionProperty","transitionTimingFunction","opacity","transform","registerTranstions","isFirstRun","toggleImmediately","resolve","reject","isFromCancelledTransition","closest","_x_hide_child","hidePromises","promiseChain","doHide","catch","toggleWithTransitions","iteratorNames","forIteratorRE","inMatch","res","items","item","iteratorMatch","collection","parseForExpression","evaluateItems","evaluateKey","directivesByType","templateEl","currentEl","iterationScopeVariables","scopeVariables","getIterationScopeVariables","currentKey","nextEl","_x_for_key","tmpNextEl","insertBefore","lookAheadForMatchingKeyedElementAndMoveItIfFound","clone","importNode","addElementInLoopAfterCurrentEl","_x_for","nextElementFromOldLoop","nextSibling","removeAnyLeftOverElementsFromPreviousUpdate","loop","theRoot","_x_refs","immediate","clonedFragment","first","firstChild","last","lastChild","range","setStartBefore","setEndAfter","_x_undoIf","deleteContents","removeListener","_x_dispatch","Element","composed","firstTime","createElement","dataset","hey","pauseTracking","enableTracking"],"mappings":"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"}